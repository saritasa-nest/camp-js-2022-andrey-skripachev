<header class="header">
  <mat-toolbar color="primary">
    <mat-toolbar-row class="content-space-between">
      <h1>
        <a routerLink="/anime" class="heading-link" mat-button>Anime catalog</a>
      </h1>
      <div
        *ngIf="userService.currentUser$ | async as user; else notAuthorizedUser"
      >
        <button
          mat-icon-button
          [matMenuTriggerFor]="menu"
          type="button"
          mat-button
        >
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <span mat-menu-item disabled>Hi, {{ user.firstName }}!</span>
          <button type="button" mat-menu-item (click)="handleLogoutClick()">
            <mat-icon>exit_to_app</mat-icon>
            Log out
          </button>
          <a mat-menu-item routerLink="/details/create"
            ><mat-icon>add_circle_outline</mat-icon> Create your own anime</a
          >
        </mat-menu>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>
</header>

<ng-template #notAuthorizedUser>
  <div>
    <a mat-button color="basic" routerLink="/auth">Sign in</a>
    <a mat-button color="basic" routerLink="/auth/registration">Sign up</a>
  </div>
</ng-template>
