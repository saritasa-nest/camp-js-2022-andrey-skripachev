import{c as p,a as i,u as h,S as g,T as o,B as f,L as v}from"./object.30e62c6c.js";import{r as n,i as w,k as L,l as t,F as S,j as a,U as b,m as x,n as C}from"./index.232bff4e.js";import{T as y}from"./Menu.17a2eecb.js";const F=p({email:i().email("Enter valid email").required("Email is required"),password:i().required("Password is required")}),T={email:"",password:""},k=()=>{const[l,s]=n.exports.useState(!1),d=w(),m=L(),e=h({initialValues:T,validationSchema:F,onSubmit:u});async function u(c){s(!0);try{await b.login(c),await d(x()),m("/genres")}catch(r){r!==null&&C(r)&&e.setErrors({...r.data})}s(!1)}return t(S,{children:[a(y,{component:"h1",variant:"h2",children:"Login"}),a("form",{onSubmit:e.handleSubmit,children:t(g,{spacing:2,children:[a(o,{fullWidth:!0,name:"email",autoComplete:"email",label:"Email",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email,variant:"outlined"}),a(o,{type:"password",autoComplete:"password",fullWidth:!0,name:"password",label:"Password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,variant:"outlined"}),a(f,{disabled:l,fullWidth:!0,type:"submit",variant:"contained",children:"Login"})]})}),a(v,{href:"#/auth/register",variant:"button",children:"Register"})]})},j=n.exports.memo(k);export{j as LoginForm};
