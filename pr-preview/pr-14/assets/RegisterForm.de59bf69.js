import{r as n,i as c,k as p,l as i,F as f,j as a,U as g,m as w,n as v}from"./index.232bff4e.js";import{c as N,a as r,b as C,u as b,S as x,T as s,B as P,L as S}from"./object.30e62c6c.js";import{T}from"./Menu.17a2eecb.js";const q=N({firstName:r().required("First name is required"),lastName:r().required("Last name is required"),email:r().email("Enter valid email").required("Email is required"),password:r().required("Password is required"),confirmPassword:r().oneOf([C("password")],"Passwords doesn't match")}),F={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},y=()=>{const[l,o]=n.exports.useState(!1),d=c(),m=p(),e=b({initialValues:F,validationSchema:q,onSubmit:u});async function u(h){o(!0);try{await g.register(h),await d(w()),m("/genres")}catch(t){t!==null&&v(t)&&e.setErrors({...t.data})}o(!1)}return i(f,{children:[a(T,{component:"h1",variant:"h2",children:"Register"}),a("form",{onSubmit:e.handleSubmit,children:i(x,{spacing:2,children:[a(s,{fullWidth:!0,name:"firstName",label:"First name",value:e.values.firstName,onChange:e.handleChange,error:e.touched.firstName&&Boolean(e.errors.firstName),helperText:e.touched.firstName&&e.errors.firstName,variant:"outlined"}),a(s,{fullWidth:!0,name:"lastName",label:"Last name",value:e.values.lastName,onChange:e.handleChange,error:e.touched.lastName&&Boolean(e.errors.lastName),helperText:e.touched.lastName&&e.errors.lastName,variant:"outlined"}),a(s,{fullWidth:!0,name:"email",autoComplete:"email",label:"Email",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email,variant:"outlined"}),a(s,{type:"password",autoComplete:"password",fullWidth:!0,name:"password",label:"Password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,variant:"outlined"}),a(s,{type:"password",autoComplete:"password",fullWidth:!0,name:"confirmPassword",label:"Confirm password",value:e.values.confirmPassword,onChange:e.handleChange,error:e.touched.confirmPassword&&Boolean(e.errors.confirmPassword),helperText:e.touched.confirmPassword&&e.errors.confirmPassword,variant:"outlined"}),a(P,{disabled:l,fullWidth:!0,type:"submit",variant:"contained",children:"Register"})]})}),a(S,{href:"#/auth/login",variant:"button",children:"Login"})]})},k=n.exports.memo(y);export{k as RegisterForm};
