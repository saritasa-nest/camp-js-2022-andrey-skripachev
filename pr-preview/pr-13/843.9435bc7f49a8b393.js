(self.webpackChunkangular=self.webpackChunkangular||[]).push([[843],{9843:(ct,$,w)=>{"use strict";w.r($),w.d($,{AnimeInfoModule:()=>ms});var D=w(8692),S=w(3331),b=w(5436),e=w(4537),m=w(1379),k=w(4929),f=w(6321),N=w(8023),G=w(1860),P=w(5598),U=w(3528),W=w(1927),O=w(8954),Y=w(5875),Z=w(5834),V=w(92),H=w(8659);const A=["*"],p=new e.OlP("MatChipRemove"),d=new e.OlP("MatChipAvatar"),x=new e.OlP("MatChipTrailingIcon");class F{constructor(o){this._elementRef=o}}const B=(0,m.sb)((0,m.pj)((0,m.Kr)(F),"primary"),-1);let q=(()=>{class a extends B{constructor(t,i,n,l,v,I,L,X){super(t),this._ngZone=i,this._changeDetectorRef=v,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new N.x,this._onBlur=new N.x,this.selectionChange=new e.vpe,this.destroyed=new e.vpe,this.removed=new e.vpe,this._addHostClassName(),this._chipRippleTarget=I.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new m.IR(this,i,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=l||{},this._animationsDisabled="NoopAnimations"===L,this.tabIndex=null!=X&&parseInt(X)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const i=(0,k.Ig)(t);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=(0,k.Ig)(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=(0,k.Ig)(t)}get removable(){return this._removable}set removable(t){this._removable=(0,k.Ig)(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(t)||i.tagName.toLowerCase()===t?i.classList.add(t):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled&&t.preventDefault()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case b.yY:case b.ZH:this.remove(),t.preventDefault();break;case b.L_:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,P.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(f.t4),e.Y36(m.Y2,8),e.Y36(e.sBO),e.Y36(D.K0),e.Y36(e.QbO,8),e.$8M("tabindex"))},a.\u0275dir=e.lG2({type:a,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,d,5),e.Suo(n,x,5),e.Suo(n,p,5)),2&t){let l;e.iGM(l=e.CRH())&&(i.avatar=l.first),e.iGM(l=e.CRH())&&(i.trailingIcon=l.first),e.iGM(l=e.CRH())&&(i.removeIcon=l.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i._handleClick(l)})("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&t&&(e.uIk("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),e.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[e.qOj]}),a})(),st=(()=>{class a{constructor(t,i){this._parentChip=t,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(t){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),t.stopPropagation(),t.preventDefault()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(q),e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i._handleClick(l)})},features:[e._Bn([{provide:p,useExisting:a}])]}),a})();const Ct=new e.OlP("mat-chips-default-options"),St=(0,m.FD)(class{constructor(a,o,t,i){this._defaultErrorStateMatcher=a,this._parentForm=o,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new N.x}});let At=0;class Vt{constructor(o,t){this.source=o,this.value=t}}let Q=(()=>{class a extends St{constructor(t,i,n,l,v,I,L){super(I,l,v,L),this._elementRef=t,this._changeDetectorRef=i,this._dir=n,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new N.x,this._uid="mat-chip-list-"+At++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(X,it)=>X===it,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new e.vpe,this.valueChange=new e.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(t){this._explicitRole=t}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,k.Ig)(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(V.kI.required)??!1}set required(t){this._required=(0,k.Ig)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,k.Ig)(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=(0,k.Ig)(t),this.chips&&this.chips.forEach(i=>i.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return(0,G.T)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return(0,G.T)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return(0,G.T)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return(0,G.T)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new O.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,U.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe((0,U.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,W.O)(null),(0,U.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Z.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const i=t.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_setSelectionByValue(t,i=!0){if(this._clearSelection(),this.chips.forEach(n=>n.deselect()),Array.isArray(t))t.forEach(n=>this._selectValue(n,i)),this._sortValues();else{const n=this._selectValue(t,i);n&&i&&this._keyManager.setActiveItem(n)}}_selectValue(t,i=!0){const n=this.chips.find(l=>null!=l.value&&this._compareWith(l.value,t));return n&&(i?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(i=>{i!==t&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let i=null;i=Array.isArray(this.selected)?this.selected.map(n=>n.value):this.selected?this.selected.value:t,this._value=i,this.change.emit(new Vt(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let i=this.chips.toArray().indexOf(t.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const i=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&i._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Y.Is,8),e.Y36(V.F,8),e.Y36(V.sg,8),e.Y36(m.rD),e.Y36(V.a5,10))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-chip-list"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,q,5),2&t){let l;e.iGM(l=e.CRH())&&(i.chips=l)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(t,i){1&t&&e.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(l){return i._keydown(l)}),2&t&&(e.Ikx("id",i._uid),e.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),e.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[e._Bn([{provide:H.Eo,useExisting:a}]),e.qOj],ngContentSelectors:A,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),a})(),Zt=0,Et=(()=>{class a{constructor(t,i){this._elementRef=t,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new e.vpe,this.placeholder="",this.id="mat-chip-list-input-"+Zt++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=(0,k.Ig)(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=(0,k.Ig)(t)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(t){if(t){if(t.keyCode===b.Mf&&!(0,b.Vb)(t,"shiftKey")&&this._chipList._allowFocusEscape(),t.keyCode===b.ZH&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void t.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(t)}_keyup(t){!this._focusLastChipOnBackspace&&t.keyCode===b.ZH&&this.empty&&(this._focusLastChipOnBackspace=!0,t.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(t){!this.inputElement.value&&!!t&&this._chipList._keydown(t),(!t||this._isSeparatorKey(t))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),t?.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this.inputElement.focus(t)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(t){return!(0,b.Vb)(t)&&new Set(this.separatorKeyCodes).has(t.keyCode)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(Ct))},a.\u0275dir=e.lG2({type:a,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(l){return i._keydown(l)})("keyup",function(l){return i._keyup(l)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&t&&(e.Ikx("id",i.id),e.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[e.TTD]}),a})(),at=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[m.rD,{provide:Ct,useValue:{separatorKeyCodes:[b.K5]}}],imports:[m.BQ]}),a})(),Bt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.BQ,m.BQ]}),a})(),Pt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.uc,m.si,m.BQ,m.us,D.ez,m.uc,m.BQ,m.us,Bt]}),a})();var lt=w(8232),ht=w(8632),ie=w(3072),Dt=w(4945);function li(a,o){}class jt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let xe=(()=>{class a extends ht.en{constructor(t,i,n,l,v,I,L,X){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=l,this._interactivityChecker=v,this._ngZone=I,this._overlayRef=L,this._focusMonitor=X,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=it=>{this._portalOutlet.hasAttached();const dt=this._portalOutlet.attachDomPortal(it);return this._contentAttached(),dt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=n}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(i)}_focusByCssSelector(t,i){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const n=(0,f.ht)(),l=this._elementRef.nativeElement;(!n||n===this._document.body||n===l||l.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,f.ht)();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,f.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(O.qV),e.Y36(D.K0,8),e.Y36(jt),e.Y36(O.ic),e.Y36(e.R0b),e.Y36(lt.Iu),e.Y36(O.tE))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(ht.Pl,7),2&t){let n;e.iGM(n=e.CRH())&&(i._portalOutlet=n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&e.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[e.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&e.YNc(0,li,0,0,"ng-template",0)},dependencies:[ht.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),a})();class ae{constructor(o,t){this.overlayRef=o,this.config=t,this.closed=new N.x,this.disableClose=t.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===b.hY&&!this.disableClose&&!(0,b.Vb)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(o,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(o),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",t=""){return this.overlayRef.updateSize({width:o,height:t}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}}const Ae=new e.OlP("DialogScrollStrategy"),ci=new e.OlP("DialogData"),di=new e.OlP("DefaultDialogConfig"),ui={provide:Ae,deps:[lt.aV],useFactory:function hi(a){return()=>a.scrollStrategies.block()}};let mi=0,we=(()=>{class a{constructor(t,i,n,l,v,I){this._overlay=t,this._injector=i,this._defaultOptions=n,this._parentDialog=l,this._overlayContainer=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.x,this._afterOpenedAtThisLevel=new N.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ie.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,W.O)(void 0))),this._scrollStrategy=I}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new jt,...i}).id=i.id||"cdk-dialog-"+mi++,i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),v=this._overlay.create(l),I=new ae(v,i),L=this._attachContainer(v,I,i);return I.containerInstance=L,this._attachDialogContent(t,I,L,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(I),I.closed.subscribe(()=>this._removeOpenDialog(I,!0)),this.afterOpened.next(I),I}closeAll(){ne(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){ne(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),ne(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new lt.X_({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,n){const l=n.injector??n.viewContainerRef?.injector,v=[{provide:jt,useValue:n},{provide:ae,useValue:i},{provide:lt.Iu,useValue:t}];let I;n.container?"function"==typeof n.container?I=n.container:(I=n.container.type,v.push(...n.container.providers(n))):I=xe;const L=new ht.C5(I,n.viewContainerRef,e.zs3.create({parent:l||this._injector,providers:v}),n.componentFactoryResolver);return t.attach(L).instance}_attachDialogContent(t,i,n,l){const v=this._createInjector(l,i,n);if(t instanceof e.Rgc){let I={$implicit:l.data,dialogRef:i};l.templateContext&&(I={...I,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),n.attachTemplatePortal(new ht.UE(t,null,I,v))}else{const I=n.attachComponentPortal(new ht.C5(t,l.viewContainerRef,v,l.componentFactoryResolver));i.componentInstance=I.instance}}_createInjector(t,i,n){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,v=[{provide:ci,useValue:t.data},{provide:ae,useValue:i}];return t.providers&&("function"==typeof t.providers?v.push(...t.providers(i,t,n)):v.push(...t.providers)),t.direction&&(!l||!l.get(Y.Is,null,e.XFs.Optional))&&v.push({provide:Y.Is,useValue:{value:t.direction,change:(0,Dt.of)()}}),e.zs3.create({parent:l||this._injector,providers:v})}_removeOpenDialog(t,i){const n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,v)=>{l?v.setAttribute("aria-hidden",l):v.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){const l=i[n];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(lt.aV),e.LFG(e.zs3),e.LFG(di,8),e.LFG(a,12),e.LFG(lt.Xj),e.LFG(Ae))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();function ne(a,o){let t=a.length;for(;t--;)o(a[t])}let pi=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[we,ui],imports:[lt.U8,ht.eL,O.rt,ht.eL]}),a})();var wt=w(4970),z=w(4091);function gi(a,o){}const Yt={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},fi={dialogContainer:(0,z.X$)("dialogContainer",[(0,z.SB)("void, exit",(0,z.oB)({opacity:0,transform:"scale(0.7)"})),(0,z.SB)("enter",(0,z.oB)({transform:"none"})),(0,z.eR)("* => enter",(0,z.ru)([(0,z.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,z.oB)({transform:"none",opacity:1})),(0,z.IO)("@*",(0,z.pV)(),{optional:!0})]),Yt),(0,z.eR)("* => void, * => exit",(0,z.ru)([(0,z.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,z.oB)({opacity:0})),(0,z.IO)("@*",(0,z.pV)(),{optional:!0})]),Yt)])};class Qt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Yt.params.enterAnimationDuration,this.exitAnimationDuration=Yt.params.exitAnimationDuration}}let _i=(()=>{class a extends xe{constructor(t,i,n,l,v,I,L,X){super(t,i,n,l,v,I,L,X),this._animationStateChanged=new e.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(O.qV),e.Y36(D.K0,8),e.Y36(Qt),e.Y36(O.ic),e.Y36(e.R0b),e.Y36(lt.Iu),e.Y36(O.tE))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],features:[e.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),a})(),bi=(()=>{class a extends _i{constructor(t,i,n,l,v,I,L,X,it){super(t,i,n,l,v,I,L,it),this._changeDetectorRef=X,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Yt.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Yt.params.exitAnimationDuration}}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(O.qV),e.Y36(D.K0,8),e.Y36(Qt),e.Y36(O.ic),e.Y36(e.R0b),e.Y36(lt.Iu),e.Y36(e.sBO),e.Y36(O.tE))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&e.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&t&&(e.Ikx("id",i._config.id),e.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),e.d8E("@dialogContainer",i._getAnimationState()))},features:[e.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&e.YNc(0,gi,0,0,"ng-template",0)},dependencies:[ht.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[fi.dialogContainer]}}),a})();class ke{constructor(o,t,i){this._ref=o,this._containerInstance=i,this._afterOpened=new N.x,this._beforeClosed=new N.x,this._state=0,this.disableClose=t.disableClose,this.id=o.id,i._animationStateChanged.pipe((0,wt.h)(n=>"opened"===n.state),(0,P.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,wt.h)(n=>"closed"===n.state),(0,P.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,G.T)(this.backdropClick(),this.keydownEvents().pipe((0,wt.h)(n=>n.keyCode===b.hY&&!this.disableClose&&!(0,b.Vb)(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),function vi(a,o,t){a._closeInteractionType=o,a.close(t)}(this,"keydown"===n.type?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe((0,wt.h)(t=>"closing"===t.state),(0,P.q)(1)).subscribe(t=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let t=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?t.left(o.left):t.right(o.right):t.centerHorizontally(),o&&(o.top||o.bottom)?o.top?t.top(o.top):t.bottom(o.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",t=""){return this._ref.updateSize(o,t),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const se=new e.OlP("MatDialogData"),yi=new e.OlP("mat-dialog-default-options"),Me=new e.OlP("mat-dialog-scroll-strategy"),Di={provide:Me,deps:[lt.aV],useFactory:function Ci(a){return()=>a.scrollStrategies.block()}};let xi=0,Ai=(()=>{class a{constructor(t,i,n,l,v,I,L,X,it,dt){this._overlay=t,this._defaultOptions=n,this._parentDialog=l,this._dialogRefConstructor=L,this._dialogContainerType=X,this._dialogDataToken=it,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.x,this._afterOpenedAtThisLevel=new N.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,ie.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,W.O)(void 0))),this._scrollStrategy=I,this._dialog=i.get(we)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let n;(i={...this._defaultOptions||new Qt,...i}).id=i.id||`${this._idPrefix}${xi++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Qt,useValue:i},{provide:jt,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(v,I,L)=>(n=new this._dialogRefConstructor(v,i,L),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:L},{provide:this._dialogDataToken,useValue:I.data},{provide:this._dialogRefConstructor,useValue:n}])});return n.componentInstance=l.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{const v=this.openDialogs.indexOf(n);v>-1&&(this.openDialogs.splice(v,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return a.\u0275fac=function(t){e.$Z()},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Ee=(()=>{class a extends Ai{constructor(t,i,n,l,v,I,L,X){super(t,i,l,I,L,v,ke,bi,se,X)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(lt.aV),e.LFG(e.zs3),e.LFG(D.Ye,8),e.LFG(yi,8),e.LFG(Me),e.LFG(a,12),e.LFG(lt.Xj),e.LFG(e.QbO,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),wi=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Ee,Di],imports:[pi,lt.U8,ht.eL,m.BQ,m.BQ]}),a})();var re=w(8697),vt=w(9638),Jt=w(9665),Te=w(7723);const ki=["input"],Mi=["label"],Ei=function(a){return{enterDuration:a}},Ti=["*"],Ii=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Ie});function Ie(){return{color:"accent",clickAction:"check-indeterminate"}}let Fi=0;const Fe=Ie(),Si={provide:V.JU,useExisting:(0,e.Gpc)(()=>Se),multi:!0};class Oi{}const Ri=(0,m.sb)((0,m.pj)((0,m.Kr)((0,m.Id)(class{constructor(a){this._elementRef=a}}))));let Li=(()=>{class a extends Ri{constructor(t,i,n,l,v,I,L){super(i),this._changeDetectorRef=n,this._ngZone=l,this._animationMode=I,this._options=L,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Fe,this.color=this.defaultColor=this._options.color||Fe.color,this.tabIndex=parseInt(v)||0,this.id=this._uniqueId=`${t}${++Fi}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=(0,k.Ig)(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=(0,k.Ig)(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=(0,k.Ig)(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=(0,k.Ig)(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let i=this._currentCheckState,n=this._getAnimationTargetElement();if(i!==t&&n&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(l)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return a.\u0275fac=function(t){e.$Z()},a.\u0275dir=e.lG2({type:a,viewQuery:function(t,i){if(1&t&&(e.Gf(ki,5),e.Gf(Mi,5),e.Gf(m.wG,5)),2&t){let n;e.iGM(n=e.CRH())&&(i._inputElement=n.first),e.iGM(n=e.CRH())&&(i._labelElement=n.first),e.iGM(n=e.CRH())&&(i.ripple=n.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]}),a})(),Se=(()=>{class a extends Li{constructor(t,i,n,l,v,I,L){super("mat-checkbox-",t,i,l,v,I,L),this._focusMonitor=n,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const i=new Oi;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,i){t?this._focusMonitor.focusVia(this._inputElement,t,i):this._inputElement.nativeElement.focus(i)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(O.tE),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(Ii,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,i){2&t&&(e.Ikx("id",i.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([Si]),e.qOj],ngContentSelectors:Ti,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),e.NdJ("change",function(l){return i._onInteractionEvent(l)})("click",function(l){return i._onInputClick(l)}),e.qZA(),e.TgZ(5,"span",5),e._UZ(6,"span",6),e.qZA(),e._UZ(7,"span",7),e.TgZ(8,"span",8),e.O4$(),e.TgZ(9,"svg",9),e._UZ(10,"path",10),e.qZA(),e.kcU(),e._UZ(11,"span",11),e.qZA()(),e.TgZ(12,"span",12,13),e.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),e.TgZ(14,"span",14),e._uU(15,"\xa0"),e.qZA(),e.Hsn(16),e.qZA()()),2&t){const n=e.MAs(1),l=e.MAs(13);e.uIk("for",i.inputId),e.xp6(2),e.ekj("mat-checkbox-inner-container-no-side-margin",!l.textContent||!l.textContent.trim()),e.xp6(1),e.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),e.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",n)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",e.VKq(19,Ei,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[m.wG,Te.wD],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),a})(),Oe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Bi=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.si,m.BQ,Te.Q8,Oe,m.BQ,Oe]}),a})();var oe=w(8484),gt=w(4813);const Pi=["mat-calendar-body",""];function Yi(a,o){if(1&a&&(e.TgZ(0,"tr",2)(1,"td",3),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function Ui(a,o){if(1&a&&(e.TgZ(0,"td",3),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Zi(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"td",7)(1,"button",8),e.NdJ("click",function(n){const v=e.CHM(t).$implicit,I=e.oxw(2);return e.KtG(I._cellClicked(v,n))})("focus",function(n){const v=e.CHM(t).$implicit,I=e.oxw(2);return e.KtG(I._emitActiveDateChange(v,n))}),e.TgZ(2,"div",9),e._uU(3),e.qZA(),e._UZ(4,"div",10),e.qZA()()}if(2&a){const t=o.$implicit,i=o.index,n=e.oxw().index,l=e.oxw();e.Udp("width",l._cellWidth)("padding-top",l._cellPadding)("padding-bottom",l._cellPadding),e.uIk("data-mat-row",n)("data-mat-col",i),e.xp6(1),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",l._isActiveCell(n,i))("mat-calendar-body-range-start",l._isRangeStart(t.compareValue))("mat-calendar-body-range-end",l._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",l._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",l._isComparisonBridgeStart(t.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",l._isComparisonBridgeEnd(t.compareValue,n,i))("mat-calendar-body-comparison-start",l._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",l._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",l._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",l._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",l._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",l._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",l._isActiveCell(n,i)?0:-1),e.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",l._isSelected(t.compareValue))("aria-current",l.todayValue===t.compareValue?"date":null),e.xp6(1),e.ekj("mat-calendar-body-selected",l._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",l._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",l.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function Hi(a,o){if(1&a&&(e.TgZ(0,"tr",4),e.YNc(1,Ui,2,6,"td",5),e.YNc(2,Zi,5,47,"td",6),e.qZA()),2&a){const t=o.$implicit,i=o.index,n=e.oxw();e.xp6(1),e.Q6J("ngIf",0===i&&n._firstRowOffset),e.xp6(1),e.Q6J("ngForOf",t)}}function Gi(a,o){if(1&a&&(e.TgZ(0,"th",5)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.qZA()()),2&a){const t=o.$implicit;e.xp6(2),e.Oqu(t.long),e.xp6(2),e.Oqu(t.narrow)}}const Re=["*"];function Ki(a,o){}function zi(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-month-view",5),e.NdJ("activeDateChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.activeDate=n)})("_userSelection",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l._dateSelected(n))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function qi(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-year-view",6),e.NdJ("activeDateChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.activeDate=n)})("monthSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l._monthSelectedInYearView(n))})("selectedChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l._goToDateInView(n,"month"))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function ji(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-multi-year-view",7),e.NdJ("activeDateChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.activeDate=n)})("yearSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l._yearSelectedInMultiYearView(n))})("selectedChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l._goToDateInView(n,"year"))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Qi(a,o){}const Ji=["button"];function Xi(a,o){1&a&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"path",4),e.qZA())}const Wi=[[["","matDatepickerToggleIcon",""]]],$i=["[matDatepickerToggleIcon]"];function ta(a,o){1&a&&(e.TgZ(0,"div",0),e.Hsn(1),e.qZA())}let Ht=(()=>{class a{constructor(){this.changes=new N.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class le{constructor(o,t,i,n,l={},v=o,I){this.value=o,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=l,this.compareValue=v,this.rawValue=I}}let Ut=(()=>{class a{constructor(t,i){this._elementRef=t,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this.activeDateChange=new e.vpe,this._enterHandler=n=>{if(this._skipNextFocus&&"focus"===n.type)this._skipNextFocus=!1;else if(n.target&&this.isRange){const l=this._getCellFromElement(n.target);l&&this._ngZone.run(()=>this.previewChange.emit({value:l.enabled?l:null,event:n}))}},this._leaveHandler=n=>{null!==this.previewEnd&&this.isRange&&n.target&&this._getCellFromElement(n.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:n}))},i.runOutsideAngular(()=>{const n=t.nativeElement;n.addEventListener("mouseenter",this._enterHandler,!0),n.addEventListener("focus",this._enterHandler,!0),n.addEventListener("mouseleave",this._leaveHandler,!0),n.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:n,numCols:l}=this;(t.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?l-n[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/l+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/l+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,i){let n=t*this.numCols+i;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,P.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return ce(t,this.startValue,this.endValue)}_isRangeEnd(t){return de(t,this.startValue,this.endValue)}_isInRange(t){return he(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return ce(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let l=this.rows[i][n-1];if(!l){const v=this.rows[i-1];l=v&&v[v.length-1]}return l&&!this._isRangeEnd(l.compareValue)}_isComparisonBridgeEnd(t,i,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let l=this.rows[i][n+1];if(!l){const v=this.rows[i+1];l=v&&v[0]}return l&&!this._isRangeStart(l.compareValue)}_isComparisonEnd(t){return de(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return he(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return ce(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return de(t,this.previewStart,this.previewEnd)}_isInPreview(t){return he(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let i;if(Le(t)?i=t:Le(t.parentNode)&&(i=t.parentNode),i){const n=i.getAttribute("data-mat-row"),l=i.getAttribute("data-mat-col");if(n&&l)return this.rows[parseInt(n)][parseInt(l)]}return null}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.R0b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[e.TTD],attrs:Pi,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(e.YNc(0,Yi,3,6,"tr",0),e.YNc(1,Hi,3,2,"tr",1)),2&t&&(e.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),e.xp6(1),e.Q6J("ngForOf",i.rows))},dependencies:[D.mk,D.sg,D.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),a})();function Le(a){return"TD"===a.nodeName}function ce(a,o,t){return null!==t&&o!==t&&a<t&&a===o}function de(a,o,t){return null!==o&&o!==t&&a>=o&&a===t}function he(a,o,t,i){return i&&null!==o&&null!==t&&o!==t&&a>=o&&a<=t}class ft{constructor(o,t){this.start=o,this.end=t}}let Tt=(()=>{class a{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new N.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return a.\u0275fac=function(t){e.$Z()},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),ea=(()=>{class a extends Tt{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new a(this._adapter);return t.updateSelection(this.selection,this),t}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(m._A))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();const Ve={provide:Tt,deps:[[new e.FiY,new e.tp0,Tt],m._A],useFactory:function aa(a,o){return a||new ea(o)}},Xt=new e.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ne=(()=>{class a{constructor(t,i,n,l,v){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=l,this._rangeStrategy=v,this._rerenderSubscription=gt.w0.EMPTY,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ft?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,W.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,n=this._getDateFromDayOfMonth(i);let l,v;this._selected instanceof ft?(l=this._getDateInCurrentMonth(this._selected.start),v=this._getDateInCurrentMonth(this._selected.end)):l=v=this._getDateInCurrentMonth(this._selected),(l!==i||v!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case b.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case b.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case b.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case b.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case b.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case b.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case b.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case b.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case b.K5:case b.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case b.hY:return void(null!=this._previewEnd&&!(0,b.Vb)(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===b.L_||t.keyCode===b.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const l=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let l=this._dateAdapter.getDayOfWeekNames("long").map((v,I)=>({long:v,narrow:i[I]}));this._weekdays=l.slice(t).concat(l.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,l=this._firstWeekOffset;n<t;n++,l++){7==l&&(this._weeks.push([]),l=0);const v=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),I=this._shouldEnableDate(v),L=this._dateAdapter.format(v,this._dateFormats.display.dateA11yLabel),X=this.dateClass?this.dateClass(v,"month"):void 0;this._weeks[this._weeks.length-1].push(new le(n+1,i[n],L,I,X,this._getCellCompareValue(v),v))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),l=this._dateAdapter.getDate(t);return new Date(i,n,l).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof ft?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(m.sG,8),e.Y36(m._A,8),e.Y36(Y.Is,8),e.Y36(Xt,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ut,5),2&t){let n;e.iGM(n=e.CRH())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.YNc(3,Gi,5,2,"th",2),e.qZA(),e.TgZ(4,"tr"),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody",4),e.NdJ("selectedValueChange",function(l){return i._dateSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("previewChange",function(l){return i._previewChanged(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",i._weekdays),e.xp6(3),e.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[D.sg,Ut],encapsulation:2,changeDetection:0}),a})(),Be=(()=>{class a{constructor(t,i,n){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=gt.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Pe(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ft?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,W.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,l=[];n<24;n++)l.push(i+n),4==l.length&&(this._years.push(l.map(v=>this._createCellForYear(v))),l=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,n=this._dateAdapter.createDate(i,0,1),l=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(l)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case b.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case b.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case b.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case b.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case b.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case b.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case b.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case b.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case b.K5:case b.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===b.L_||t.keyCode===b.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(i),l=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new le(t,n,n,this._shouldEnableYear(t),l)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof ft){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(m._A,8),e.Y36(Y.Is,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ut,5),2&t){let n;e.iGM(n=e.CRH())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(l){return i._yearSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Ut],encapsulation:2,changeDetection:0}),a})();function Pe(a,o,t,i,n){const l=a.getYear(o),v=a.getYear(t),I=Ye(a,i,n);return Math.floor((l-I)/24)===Math.floor((v-I)/24)}function Gt(a,o,t,i){return function oa(a,o){return(a%o+o)%o}(a.getYear(o)-Ye(a,t,i),24)}function Ye(a,o,t){let i=0;return t?i=a.getYear(t)-24+1:o&&(i=a.getYear(o)),i}let Ue=(()=>{class a{constructor(t,i,n,l){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=l,this._rerenderSubscription=gt.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ft?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,W.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const l=this._getDateFromMonth(i);this.selectedChange.emit(l)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case b.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case b.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case b.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case b.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case b.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case b.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case b.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case b.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case b.K5:case b.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===b.L_||t.keyCode===b.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(t,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),l=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),v=this.dateClass?this.dateClass(n,"year"):void 0;return new le(t,i.toLocaleUpperCase(),l,this._shouldEnableMonth(t),v)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(l)==t;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),l=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&i>l}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),l=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&i<l}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof ft?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(m.sG,8),e.Y36(m._A,8),e.Y36(Y.Is,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ut,5),2&t){let n;e.iGM(n=e.CRH())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,i){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(l){return i._monthSelected(l)})("activeDateChange",function(l){return i._updateActiveDate(l)})("keyup",function(l){return i._handleCalendarBodyKeyup(l)})("keydown",function(l){return i._handleCalendarBodyKeydown(l)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Ut],encapsulation:2,changeDetection:0}),a})(),la=0,ca=(()=>{class a{constructor(t,i,n,l,v){this._intl=t,this.calendar=i,this._dateAdapter=n,this._dateFormats=l,this._buttonDescriptionId="mat-calendar-button-"+la++,this.calendar.stateChanges.subscribe(()=>v.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Gt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+24-1,l=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),v=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1));return this._intl.formatYearRange(l,v)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):Pe(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Ht),e.Y36((0,e.Gpc)(()=>pe)),e.Y36(m._A,8),e.Y36(m.sG,8),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Re,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.currentPeriodClicked()}),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg",3),e._UZ(6,"polygon",4),e.qZA()(),e.kcU(),e._UZ(7,"div",5),e.Hsn(8),e.TgZ(9,"button",6),e.NdJ("click",function(){return i.previousClicked()}),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return i.nextClicked()}),e.qZA()()()),2&t&&(e.xp6(2),e.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),e.xp6(1),e.uIk("id",i._buttonDescriptionId),e.xp6(1),e.Oqu(i.periodButtonText),e.xp6(1),e.ekj("mat-calendar-invert","month"!==i.calendar.currentView),e.xp6(4),e.Q6J("disabled",!i.previousEnabled()),e.uIk("aria-label",i.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!i.nextEnabled()),e.uIk("aria-label",i.nextButtonLabel))},dependencies:[vt.lW],encapsulation:2,changeDetection:0}),a})(),pe=(()=>{class a{constructor(t,i,n,l){this._dateAdapter=i,this._dateFormats=n,this._changeDetectorRef=l,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this._userSelection=new e.vpe,this.stateChanges=new N.x,this._intlChanges=t.changes.subscribe(()=>{l.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof ft?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new ht.C5(this.headerComponent||ca),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,l=i||n||t.dateFilter;if(l&&!l.firstChange){const v=this._getCurrentViewComponent();v&&(this._changeDetectorRef.detectChanges(),v._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof ft||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Ht),e.Y36(m._A,8),e.Y36(m.sG,8),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ne,5),e.Gf(Ue,5),e.Gf(Be,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.monthView=n.first),e.iGM(n=e.CRH())&&(i.yearView=n.first),e.iGM(n=e.CRH())&&(i.multiYearView=n.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[e._Bn([Ve]),e.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(e.YNc(0,Ki,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,zi,1,8,"mat-month-view",2),e.YNc(3,qi,1,6,"mat-year-view",3),e.YNc(4,ji,1,6,"mat-multi-year-view",4),e.qZA()),2&t&&(e.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),e.xp6(1),e.Q6J("ngSwitch",i.currentView),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngSwitchCase","multi-year"))},dependencies:[D.RF,D.n9,O.kH,ht.Pl,Ne,Ue,Be],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),a})();const Ze={transformPanel:(0,z.X$)("transformPanel",[(0,z.eR)("void => enter-dropdown",(0,z.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,z.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,z.eR)("void => enter-dialog",(0,z.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,z.F4)([(0,z.oB)({opacity:0,transform:"scale(0.7)"}),(0,z.oB)({transform:"none",opacity:1})]))),(0,z.eR)("* => void",(0,z.jt)("100ms linear",(0,z.oB)({opacity:0})))]),fadeInCalendar:(0,z.X$)("fadeInCalendar",[(0,z.SB)("void",(0,z.oB)({opacity:0})),(0,z.SB)("enter",(0,z.oB)({opacity:1})),(0,z.eR)("void => *",(0,z.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let da=0;const He=new e.OlP("mat-datepicker-scroll-strategy"),ua={provide:He,deps:[lt.aV],useFactory:function ha(a){return()=>a.scrollStrategies.reposition()}},ma=(0,m.pj)(class{constructor(a){this._elementRef=a}});let pa=(()=>{class a extends ma{constructor(t,i,n,l,v,I){super(t),this._changeDetectorRef=i,this._globalModel=n,this._dateAdapter=l,this._rangeSelectionStrategy=v,this._subscriptions=new gt.w0,this._animationDone=new N.x,this._actionsPortal=null,this._closeButtonText=I.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,n=t.value,l=i instanceof ft;if(l&&this._rangeSelectionStrategy){const v=this._rangeSelectionStrategy.selectionFinished(n,i,t.event);this._model.updateSelection(v,this)}else n&&(l||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Tt),e.Y36(m._A),e.Y36(Xt,8),e.Y36(Ht))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&e.Gf(pe,5),2&t){let n;e.iGM(n=e.CRH())&&(i._calendar=n.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&e.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&t&&(e.d8E("@transformPanel",i._animationState),e.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[e.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-calendar",1),e.NdJ("yearSelected",function(l){return i.datepicker._selectYear(l)})("monthSelected",function(l){return i.datepicker._selectMonth(l)})("viewChanged",function(l){return i.datepicker._viewChanged(l)})("_userSelection",function(l){return i._handleUserSelection(l)}),e.qZA(),e.YNc(2,Qi,0,0,"ng-template",2),e.TgZ(3,"button",3),e.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),e._uU(4),e.qZA()()),2&t){let n;e.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),e.uIk("aria-modal",!0)("aria-labelledby",null!==(n=i._dialogLabelId)&&void 0!==n?n:void 0),e.xp6(1),e.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),e.xp6(1),e.Q6J("cdkPortalOutlet",i._actionsPortal),e.xp6(1),e.ekj("cdk-visually-hidden",!i._closeButtonFocused),e.Q6J("color",i.color||"primary"),e.xp6(1),e.Oqu(i._closeButtonText)}},dependencies:[D.mk,vt.lW,O.mK,ht.Pl,pe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ze.transformPanel,Ze.fadeInCalendar]},changeDetection:0}),a})(),Kt=(()=>{class a{constructor(t,i,n,l,v,I,L){this._overlay=t,this._ngZone=i,this._viewContainerRef=n,this._dateAdapter=v,this._dir=I,this._model=L,this._inputStateChanges=gt.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this.id="mat-datepicker-"+da++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new N.x,this._scrollStrategy=l}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,k.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=(0,k.Ig)(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,k.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,k.du)(t)}get opened(){return this._opened}set opened(t){(0,k.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof lt._G&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,f.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,P.q)(1)).subscribe(()=>this._destroyOverlay())}const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new ht.C5(pa,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new lt.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(n).subscribe(l=>{l&&l.preventDefault(),this.close()}),n.keydownEvents().subscribe(l=>{const v=l.keyCode;(v===b.LH||v===b.JH||v===b.oh||v===b.SV||v===b.Ku||v===b.VM)&&l.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,P.q)(1)).subscribe(()=>n.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",l="above"===this.yPosition?"bottom":"top",v="top"===l?"bottom":"top";return t.withPositions([{originX:i,originY:v,overlayX:i,overlayY:l},{originX:i,originY:l,overlayX:i,overlayY:v},{originX:n,originY:v,overlayX:n,overlayY:l},{originX:n,originY:l,overlayX:n,overlayY:v}])}_getCloseStream(t){return(0,G.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,wt.h)(i=>i.keyCode===b.hY&&!(0,b.Vb)(i)||this.datepickerInput&&(0,b.Vb)(i,"altKey")&&i.keyCode===b.LH)))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(lt.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(He),e.Y36(m._A,8),e.Y36(Y.Is,8),e.Y36(Tt))},a.\u0275dir=e.lG2({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.TTD]}),a})(),ga=(()=>{class a extends Kt{}return a.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(a)))(i||a)}}(),a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e._Bn([Ve,{provide:Kt,useExisting:a}]),e.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),a})();class Wt{constructor(o,t){this.target=o,this.targetElement=t,this.value=this.target.value}}let fa=(()=>{class a{constructor(t,i,n){this._elementRef=t,this._dateAdapter=i,this._dateFormats=n,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this.stateChanges=new N.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=gt.w0.EMPTY,this._localeSubscription=gt.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=l=>{const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value));return!v||this._matchesFilter(v)?null:{matDatepickerFilter:!0}},this._minValidator=l=>{const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),I=this._getMinDate();return!I||!v||this._dateAdapter.compareDate(I,v)<=0?null:{matDatepickerMin:{min:I,actual:v}}},this._maxValidator=l=>{const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),I=this._getMaxDate();return!I||!v||this._dateAdapter.compareDate(I,v)>=0?null:{matDatepickerMax:{max:I,actual:v}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=(0,k.Ig)(t),n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new Wt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Wt(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function _a(a,o){const t=Object.keys(a);for(let i of t){const{previousValue:n,currentValue:l}=a[i];if(!o.isDateInstance(n)||!o.isDateInstance(l))return!0;if(!o.sameDate(n,l))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===b.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const l=!this._dateAdapter.sameDate(n,this.value);!n||l?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),l&&(this._assignValue(n),this.dateInput.emit(new Wt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Wt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(m._A,8),e.Y36(m.sG,8))},a.\u0275dir=e.lG2({type:a,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.TTD]}),a})();const ba={provide:V.JU,useExisting:(0,e.Gpc)(()=>ge),multi:!0},va={provide:V.Cf,useExisting:(0,e.Gpc)(()=>ge),multi:!0};let ge=(()=>{class a extends fa{constructor(t,i,n,l){super(t,i,n),this._formField=l,this._closedSubscription=gt.w0.EMPTY,this._validator=V.kI.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(m._A,8),e.Y36(m.sG,8),e.Y36(H.G_,8))},a.\u0275dir=e.lG2({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&e.NdJ("input",function(l){return i._onInput(l.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(l){return i._onKeydown(l)}),2&t&&(e.Ikx("disabled",i.disabled),e.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e._Bn([ba,va,{provide:Jt.Jk,useExisting:a}]),e.qOj]}),a})(),ya=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=e.lG2({type:a,selectors:[["","matDatepickerToggleIcon",""]]}),a})(),Ca=(()=>{class a{constructor(t,i,n){this._intl=t,this._changeDetectorRef=i,this._stateChanges=gt.w0.EMPTY;const l=Number(n);this.tabIndex=l||0===l?l:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,k.Ig)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,Dt.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Dt.of)(),n=this.datepicker?(0,G.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Dt.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,G.T)(this._intl.changes,t,i,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Ht),e.Y36(e.sBO),e.$8M("tabindex"))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,ya,5),2&t){let l;e.iGM(l=e.CRH())&&(i._customIcon=l.first)}},viewQuery:function(t,i){if(1&t&&e.Gf(Ji,5),2&t){let n;e.iGM(n=e.CRH())&&(i._button=n.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&e.NdJ("click",function(l){return i._open(l)}),2&t&&(e.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),e.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.TTD],ngContentSelectors:$i,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(e.F$t(Wi),e.TgZ(0,"button",0,1),e.YNc(2,Xi,2,0,"svg",2),e.Hsn(3),e.qZA()),2&t&&(e.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),e.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),e.xp6(2),e.Q6J("ngIf",!i._customIcon))},dependencies:[D.O5,vt.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),a})(),Da=(()=>{class a{constructor(t){this._datepicker=t}_applySelection(){this._datepicker._applyPendingSelection(),this._datepicker.close()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Kt))},a.\u0275dir=e.lG2({type:a,selectors:[["","matDatepickerApply",""],["","matDateRangePickerApply",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._applySelection()})}}),a})(),xa=(()=>{class a{constructor(t){this._datepicker=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Kt))},a.\u0275dir=e.lG2({type:a,selectors:[["","matDatepickerCancel",""],["","matDateRangePickerCancel",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._datepicker.close()})}}),a})(),Aa=(()=>{class a{constructor(t,i){this._datepicker=t,this._viewContainerRef=i}ngAfterViewInit(){this._portal=new ht.UE(this._template,this._viewContainerRef),this._datepicker.registerActions(this._portal)}ngOnDestroy(){this._datepicker.removeActions(this._portal),this._portal&&this._portal.isAttached&&this._portal?.detach()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Kt),e.Y36(e.s_b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-datepicker-actions"],["mat-date-range-picker-actions"]],viewQuery:function(t,i){if(1&t&&e.Gf(e.Rgc,5),2&t){let n;e.iGM(n=e.CRH())&&(i._template=n.first)}},ngContentSelectors:Re,decls:1,vars:0,consts:[[1,"mat-datepicker-actions"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,ta,2,0,"ng-template"))},styles:[".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),a})(),wa=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Ht,ua],imports:[D.ez,vt.ot,lt.U8,O.rt,ht.eL,m.BQ,oe.ZD]}),a})();var Ge=w(8033),fe=w(4581),Lt=w(1528),yt=w(7969),zt=w(8168),ka=w(5990);const Ma=["panel"];function Ea(a,o){if(1&a&&(e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA()),2&a){const t=o.id,i=e.oxw();e.Q6J("id",i.id)("ngClass",i._classList),e.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const Ta=["*"];let Ia=0;class Fa{constructor(o,t){this.source=o,this.option=t}}const Sa=(0,m.Kr)(class{}),Ke=new e.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function Oa(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let Ra=(()=>{class a extends Sa{constructor(t,i,n,l){super(),this._changeDetectorRef=t,this._elementRef=i,this._activeOptionChanges=gt.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.optionActivated=new e.vpe,this._classList={},this.id="mat-autocomplete-"+Ia++,this.inertGroups=l?.SAFARI||!1,this._autoActiveFirstOption=!!n.autoActiveFirstOption,this._autoSelectActiveOption=!!n.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=(0,k.Ig)(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=(0,k.Ig)(t)}set classList(t){this._classList=t&&t.length?(0,k.du)(t).reduce((i,n)=>(i[n]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new O.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new Fa(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Ke),e.Y36(f.t4))},a.\u0275dir=e.lG2({type:a,viewQuery:function(t,i){if(1&t&&(e.Gf(e.Rgc,7),e.Gf(Ma,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.template=n.first),e.iGM(n=e.CRH())&&(i.panel=n.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[e.qOj]}),a})(),La=(()=>{class a extends Ra{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return a.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(a)))(i||a)}}(),a.\u0275cmp=e.Xpm({type:a,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,n){if(1&t&&(e.Suo(n,m.K7,5),e.Suo(n,m.ey,5)),2&t){let l;e.iGM(l=e.CRH())&&(i.optionGroups=l),e.iGM(l=e.CRH())&&(i.options=l)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[e._Bn([{provide:m.HF,useExisting:a}]),e.qOj],ngContentSelectors:Ta,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Ea,3,4,"ng-template"))},dependencies:[D.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),a})();const ze=new e.OlP("mat-autocomplete-scroll-strategy"),Na={provide:ze,deps:[lt.aV],useFactory:function Va(a){return()=>a.scrollStrategies.reposition()}},Ba={provide:V.JU,useExisting:(0,e.Gpc)(()=>qe),multi:!0};let Pa=(()=>{class a{constructor(t,i,n,l,v,I,L,X,it,dt,xt){this._element=t,this._overlay=i,this._viewContainerRef=n,this._zone=l,this._changeDetectorRef=v,this._dir=L,this._formField=X,this._document=it,this._viewportRuler=dt,this._defaults=xt,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=gt.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new N.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,ie.P)(()=>{const Ft=this.autocomplete?this.autocomplete.options:null;return Ft?Ft.changes.pipe((0,W.O)(Ft),(0,Lt.w)(()=>(0,G.T)(...Ft.map(ps=>ps.onSelectionChange)))):this._zone.onStable.pipe((0,P.q)(1),(0,Lt.w)(()=>this.optionSelections))}),this._scrollStrategy=I}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=(0,k.Ig)(t)}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,G.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,wt.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,wt.h)(()=>this._overlayAttached)):(0,Dt.of)()).pipe((0,yt.U)(t=>t instanceof m.rN?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,G.T)((0,fe.R)(this._document,"click"),(0,fe.R)(this._document,"auxclick"),(0,fe.R)(this._document,"touchend")).pipe((0,wt.h)(t=>{const i=(0,f.sA)(t),n=this._formField?this._formField._elementRef.nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(i))&&(!l||!l.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,n=(0,b.Vb)(t);if(i===b.hY&&!n&&t.preventDefault(),this.activeOption&&i===b.K5&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const l=this.autocomplete._keyManager.activeItem,v=i===b.LH||i===b.JH;i===b.Mf||v&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):v&&this._canOpen()&&this.openPanel(),(v||this.autocomplete._keyManager.activeItem!==l)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,n=i.value;"number"===i.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._pendingAutoselectedOption=null,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe((0,P.q)(1)),i=this.autocomplete.options.changes.pipe((0,zt.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,ka.g)(0));return(0,G.T)(t,i).pipe((0,Lt.w)(()=>(this._zone.run(()=>{const n=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,P.q)(1)).subscribe(n=>this._setValueAndClose(n))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=t?t.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(i=>{i!==t&&i.selected&&i.deselect()})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new ht.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._handleOverlayEvents(t),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new lt.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,l=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let v;v="above"===this.position?l:"below"===this.position?i:[...i,...l],t.withPositions(v)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,n=(0,m.CB)(t,i.options,i.optionGroups);if(0===t&&1===n)i._setScrollTop(0);else if(i.panel){const l=i.options.toArray()[t];if(l){const v=l._getHostElement(),I=(0,m.jH)(v.offsetTop,v.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(I)}}}_handleOverlayEvents(t){t.keydownEvents().subscribe(i=>{(i.keyCode===b.hY&&!(0,b.Vb)(i)||i.keyCode===b.LH&&(0,b.Vb)(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),t.outsidePointerEvents().subscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(lt.aV),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(ze),e.Y36(Y.Is,8),e.Y36(H.G_,9),e.Y36(D.K0,8),e.Y36(oe.rL),e.Y36(Ke,8))},a.\u0275dir=e.lG2({type:a,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[e.TTD]}),a})(),qe=(()=>{class a extends Pa{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return a.\u0275fac=function(){let o;return function(i){return(o||(o=e.n5z(a)))(i||a)}}(),a.\u0275dir=e.lG2({type:a,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){1&t&&e.NdJ("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(l){return i._handleInput(l)})("keydown",function(l){return i._handleKeydown(l)})("click",function(){return i._handleClick()}),2&t&&e.uIk("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[e._Bn([Ba]),e.qOj]}),a})(),Ya=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Na],imports:[lt.U8,m.Ng,m.BQ,D.ez,oe.ZD,m.Ng,m.BQ]}),a})();const Ua=["inputFile"],Za=["inputValue"];function Ha(a,o){1&a&&(e.TgZ(0,"mat-icon",7),e._uU(1,"attach_file"),e.qZA())}const Ga=[[["","ngxMatFileInputIcon",""]]],Ka=["[ngxMatFileInputIcon]"];let za=0;const qa=(0,m.FD)(class{constructor(a,o,t,i){this._defaultErrorStateMatcher=a,this._parentForm=o,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new N.x}});let ja=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=e.lG2({type:a,selectors:[["","ngxMatFileInputIcon",""]]}),a})(),Qa=(()=>{class a extends qa{constructor(t,i,n,l,v,I,L){super(L,v,I,l),this._elementRef=t,this._platform=i,this._cd=n,this.ngControl=l,this.color="primary",this.fileNames=null,this._uid="ngx-mat-fileinput-"+za++,this.stateChanges=new N.x,this.focused=!1,this.controlType="ngx-mat-file-input",this.autofilled=!1,this._onTouched=()=>{},this._onChange=()=>{},this._disabled=!1,this._multiple=!1,this.placeholder="Choose a file",this.separator=",",this._required=!1,this._readonly=!0,this.id=this.id,this.ngControl&&(this.ngControl.valueAccessor=this)}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,k.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,k.Ig)(t)}get required(){return this._required}set required(t){this._required=(0,k.Ig)(t)}get value(){return this._value}set value(t){this._value=t}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,k.Ig)(t)}get accept(){return this._accept}set accept(t){this._accept=t}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}ngDoCheck(){this.ngControl&&this.updateErrorState()}writeValue(t){this._updateInputValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}focus(t){this._inputValueRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(!this.readonly||!t)&&(this.focused=t,this.stateChanges.next())}_markAsTouched(){this._onTouched(),this._cd.markForCheck(),this.stateChanges.next()}_isBadInput(){let t=this._inputValueRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._inputValueRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}openFilePicker(t){this._inputFileRef.nativeElement.click(),t&&(t.preventDefault(),t.stopPropagation()),this._markAsTouched()}handleFiles(t){if(t.length>0){const i=new Array;for(let n=0;n<t.length;n++)i.push(t.item(n));this._updateInputValue(i),this._resetInputFile(),this._onChange(this.multiple?i:i[0])}}onContainerClick(t){}_resetInputFile(){this._inputFileRef.nativeElement.value=""}_updateInputValue(t){let i=null;t&&(i=Array.isArray(t)?this._multiple?t.map(n=>n.name).join(this.separator):t[0].name:null!=t.name?t.name:null),this._inputValueRef.nativeElement.value=i}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.SBq),e.Y36(f.t4),e.Y36(e.sBO),e.Y36(V.a5,10),e.Y36(V.F,8),e.Y36(V.sg,8),e.Y36(m.rD))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ngx-mat-file-input"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,ja,5),2&t){let l;e.iGM(l=e.CRH())&&(i._customIcon=l.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Ua,7),e.Gf(Za,7)),2&t){let n;e.iGM(n=e.CRH())&&(i._inputFileRef=n.first),e.iGM(n=e.CRH())&&(i._inputValueRef=n.first)}},hostAttrs:[1,"ngx-mat-file-input"],inputs:{color:"color",disabled:"disabled",id:"id",multiple:"multiple",placeholder:"placeholder",separator:"separator",required:"required",errorStateMatcher:"errorStateMatcher",value:"value",readonly:"readonly",accept:"accept"},exportAs:["ngx-mat-file-input"],features:[e._Bn([{provide:H.Eo,useExisting:(0,e.Gpc)(()=>a)}]),e.qOj,e.TTD],ngContentSelectors:Ka,decls:8,vars:13,consts:[["autocomplete","off",1,"mat-input-element","mat-form-field-autofill-control",3,"disabled","required"],["inputValue",""],[1,"mat-form-field-suffix"],["matSuffix","","mat-icon-button","","type","button",1,"button-browse",3,"color","disabled","click"],["class","ngx-mat-file-input--default-icon",4,"ngIf"],["type","file",1,"input-file",3,"multiple","accept","change"],["inputFile",""],[1,"ngx-mat-file-input--default-icon"]],template:function(t,i){1&t&&(e.F$t(Ga),e._UZ(0,"input",0,1),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(l){return i.openFilePicker(l)}),e.YNc(4,Ha,2,0,"mat-icon",4),e.Hsn(5),e.qZA()(),e.TgZ(6,"input",5,6),e.NdJ("change",function(l){return i.handleFiles(l.target.files)}),e.qZA()),2&t&&(e.Q6J("disabled",i.disabled)("required",i.required),e.uIk("id",i.id)("placeholder",i.placeholder)("readonly",i.readonly||null)("aria-describedby",i._ariaDescribedby||null)("aria-invalid",i.errorState)("aria-required",i.required.toString()),e.xp6(3),e.Q6J("color",i.color)("disabled",i.disabled),e.xp6(1),e.Q6J("ngIf",!i._customIcon),e.xp6(2),e.Q6J("multiple",i.multiple)("accept",i.accept))},dependencies:[D.O5,vt.lW,S.Hw,H.R9],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-file-input--default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-file-input--default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-file-input--default-icon{margin:auto}.ngx-mat-file-input{display:flex;line-height:18px;height:18px;align-items:center}.ngx-mat-file-input .input-file{display:block;visibility:hidden;width:0;height:0}\n"],encapsulation:2}),a})(),Ja=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[D.ez,vt.ot,S.Ps,H.lN,Jt.c]}),a})();var kt=w(4121),$t=w(7241),_e=w(5975),Xa=w(2692);function je(a,o,t){return t?je(a,o).pipe((0,Xa.Z)(t)):new $t.y(i=>{const n=(...v)=>i.next(1===v.length?v[0]:v),l=a(n);return(0,_e.m)(o)?()=>o(n,l):void 0})}var It=w(5696),Qe=w(7824),Wa=w(561),$a=w(985),be=w(2085);const en={connector:()=>new N.x};function Je(a,o=en){const{connector:t}=o;return(0,be.e)((i,n)=>{const l=t();(0,$a.D)(a(function tn(a){return new $t.y(o=>a.subscribe(o))}(l))).subscribe(n),n.add(i.subscribe(l))})}var sn=w(4882),ve=w(8499),rn=w(5955),on=w(8330),ln=w(408),cn=w(6651);function ye(...a){const o=(0,cn.jO)(a);return(0,be.e)((t,i)=>{const n=a.length,l=new Array(n);let v=a.map(()=>!1),I=!1;for(let L=0;L<n;L++)(0,rn.Xf)(a[L]).subscribe(new ve.Q(i,X=>{l[L]=X,!I&&!v[L]&&(v[L]=!0,(I=v.every(on.y))&&(v=null))},ln.Z));t.subscribe(new ve.Q(i,L=>{if(I){const X=[L,...l];i.next(o?o(...X):X)}}))})}var dn=w(7479),hn=w(2147),un=w(7033);const pn=["youtubeContainer"];let $e=(()=>{class a{constructor(t,i){this._ngZone=t,this._youtubeContainer=new N.x,this._destroyed=new N.x,this._playerChanges=new kt.X(void 0),this._videoId=new kt.X(void 0),this._height=new kt.X(390),this._width=new kt.X(640),this._startSeconds=new kt.X(void 0),this._endSeconds=new kt.X(void 0),this._suggestedQuality=new kt.X(void 0),this._playerVars=new kt.X(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,D.NF)(i)}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}get playerVars(){return this._playerVars.value}set playerVars(t){this._playerVars.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=(0,Dt.of)(!0);if(!window.YT||!window.YT.Player){const n=new N.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>n.next(!0))},t=n.pipe((0,P.q)(1),(0,W.O)(!1))}const i=function bn(a,o,t,i,n,l,v){const I=(0,It.a)([o,l]).pipe(ye((0,It.a)([i,n])),(0,yt.U)(([L,X])=>{const[it,dt]=L,[xt,Ft]=X;return it?{videoId:it,playerVars:dt,width:xt,height:Ft}:void 0}));return(0,It.a)([a,I,(0,Dt.of)(v)]).pipe(function vn(a){return(0,Qe.z)((0,un.a)(a),function mn(a){return(0,be.e)((o,t)=>{let i=!1,n=0;o.subscribe(new ve.Q(t,l=>(i||(i=!a(l,n++)))&&t.next(l)))})}(([o,t])=>!t),(0,yt.U)(([o])=>o))}(t),(0,dn.R)(yn,void 0),(0,hn.x)())}(this._youtubeContainer,this._videoId,t,this._width,this._height,this._playerVars,this._ngZone).pipe((0,zt.b)(n=>{this._playerChanges.next(n)}),function _n(a){return(0,sn.z)(o=>o?ti(o)?(0,Dt.of)(o):new $t.y(t=>{let i=!1,n=!1;const l=v=>{n=!0,i||(v.target.removeEventListener("onReady",l),t.next(v.target))};return o.addEventListener("onReady",l),()=>{i=!0,n||a(o)}}).pipe((0,P.q)(1),(0,W.O)(void 0)):(0,Dt.of)(void 0))}(n=>{ti(n)||n.destroy()}),(0,U.R)(this._destroyed),function nn(a){return a?o=>Je(a)(o):o=>function an(a,o){const t=(0,_e.m)(a)?a:()=>a;return(0,_e.m)(o)?Je(o,{connector:t}):i=>new Wa.c(i,t)}(new N.x)(o)}());i.subscribe(n=>{this._player=n,n&&this._pendingPlayerState&&this._initializePlayer(n,this._pendingPlayerState),this._pendingPlayerState=void 0}),function gn(a,o,t){(0,It.a)([a,o,t]).subscribe(([i,n,l])=>i&&i.setSize(n,l))}(i,this._width,this._height),function fn(a,o){(0,It.a)([a,o]).subscribe(([t,i])=>t&&i&&t.setPlaybackQuality(i))}(i,this._suggestedQuality),function Cn(a,o,t,i,n,l){const v=(0,It.a)([t,i]).pipe((0,yt.U)(([it,dt])=>({startSeconds:it,endSeconds:dt}))),I=v.pipe(Ce(a,it=>!!it&&!function Dn(a){const o=a.getPlayerState();return o!==YT.PlayerState.UNSTARTED&&o!==YT.PlayerState.CUED}(it))),L=o.pipe(Ce(a,(it,dt)=>!!it&&it.videoId!==dt)),X=a.pipe(Ce((0,It.a)([o,v]),([it,dt],xt)=>!(!xt||it==xt.videoId&&!dt.startSeconds&&!dt.endSeconds)));(0,G.T)(X,L,I).pipe(ye((0,It.a)([a,o,v,n])),(0,yt.U)(([it,dt])=>dt),(0,U.R)(l)).subscribe(([it,dt,xt,Ft])=>{!dt||!it||(it.videoId=dt,it.cueVideoById({videoId:dt,suggestedQuality:Ft,...xt}))})}(i,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),i.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,i){const{playbackState:n,playbackRate:l,volume:v,muted:I,seek:L}=i;switch(n){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=l&&t.setPlaybackRate(l),null!=v&&t.setVolume(v),null!=I&&(I?t.mute():t.unMute()),null!=L&&t.seekTo(L.seconds,L.allowSeekAhead)}_getLazyEmitter(t){return this._playerChanges.pipe((0,Lt.w)(i=>i?je(n=>{i.addEventListener(t,n)},n=>{try{i.removeEventListener&&i.removeEventListener(t,n)}catch{}}):(0,Dt.of)()),i=>new $t.y(n=>i.subscribe({next:l=>this._ngZone.run(()=>n.next(l)),error:l=>n.error(l),complete:()=>n.complete()})),(0,U.R)(this._destroyed))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.R0b),e.Y36(e.Lbi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["youtube-player"]],viewQuery:function(t,i){if(1&t&&e.Gf(pn,5),2&t){let n;e.iGM(n=e.CRH())&&(i.youtubeContainer=n.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),a})();function yn(a,[o,t,i]){if(a&&t&&a.playerVars!==t.playerVars)a.destroy();else{if(!t)return void(a&&a.destroy());if(a)return a}const n=i.runOutsideAngular(()=>new YT.Player(o,t));return n.videoId=t.videoId,n.playerVars=t.playerVars,n}function ti(a){return"getPlayerStatus"in a}function Ce(a,o){return(0,Qe.z)(ye(a),(0,wt.h)(([t,i])=>o(i,t)),(0,yt.U)(([t])=>t))}let xn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();var An=w(2628),Mt=w(2864),wn=w(2513);let kn=(()=>{class a{constructor(t,i){this.userService=t,this.router=i}canActivate(){return this.userService.isAuthorized$.pipe((0,yt.U)(t=>!!t||this.router.parseUrl("/auth")))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(wn.K),e.LFG(Mt.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var te=w(4226),ei=w(2346),ii=w(597),ee=w(4307),ai=w(3151),Mn=w(7108),En=w(5732),Tn=w(5893);let In=(()=>{class a{constructor(t,i){this.httpClient=t,this.bucketName="anime_images",this.s3DirectParamsUrl=new URL("s3direct/get_params/",i.apiUrl)}uploadImage(t){return this.httpClient.post(this.s3DirectParamsUrl.toString(),{dest:this.bucketName,filename:t.name}).pipe((0,yt.U)(i=>{const n=new FormData;return n.append("policy",i.policy),n.append("success_action_status",i.success_action_status),n.append("x-amz-credential",i["x-amz-credential"]),n.append("x-amz-date",i["x-amz-date"]),n.append("x-amz-signature",i["x-amz-signature"]),n.append("x-amz-algorithm",i["x-amz-algorithm"]),n.append("key",i.key),n.append("acl",i.acl),n.append("x-amz-security-token",i["x-amz-security-token"]),n.append("file",t),{formAction:i.form_action,formData:n}}),(0,Lt.w)(({formAction:i,formData:n})=>this.httpClient.post(i,n,{responseType:"text"})),(0,yt.U)(i=>(0,Mn.xml2js)(i,{compact:!0}).PostResponse.Location._text))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(En.eN),e.LFG(Tn._))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var ni=w(3289),si=w(5797);function Fn(a,o){1&a&&e._UZ(0,"img",35),2&a&&e.Q6J("src",o.ngIf,e.LSH)}function Sn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("image"))}}function On(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("titleEnglish"))}}function Rn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("titleJapanese"))}}function Ln(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("synopsis"))}}function Vn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("trailerYoutubeId"))}}function Nn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("status"))}}function Bn(a,o){if(1&a&&(e.TgZ(0,"mat-option",36),e._uU(1),e.ALo(2,"animeStatus"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Pn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("type"))}}function Yn(a,o){if(1&a&&(e.TgZ(0,"mat-option",36),e._uU(1),e.ALo(2,"animeType"),e.qZA()),2&a){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Un(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("genresData"))}}function Zn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-chip",37),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.removeGenre(l.id))}),e._uU(1),e.TgZ(2,"button",38)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&a){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Hn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-option",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createGenre())}),e.TgZ(1,"mat-icon"),e._uU(2,"control_point"),e.qZA(),e._uU(3," Add new genre"),e.qZA()}}function Gn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-option",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.addGenre(l))}),e._uU(1),e.qZA()}if(2&a){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function Kn(a,o){if(1&a&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.editForm.getError("studiosData"))}}function zn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-chip",37),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.removeStudio(l.id))}),e._uU(1),e.TgZ(2,"button",38)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&a){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function qn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-option",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createStudio())}),e.TgZ(1,"mat-icon"),e._uU(2,"control_point"),e.qZA(),e._uU(3," Add new studio"),e.qZA()}}function jn(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"mat-option",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.addStudio(l))}),e._uU(1),e.qZA()}if(2&a){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}let oi=(()=>{class a{constructor(t,i,n,l){this.cdr=t,this.animeService=i,this.fileLoader=n,this.animeImagePreview$=new kt.X(null),this.currentAnimeGenres=[],this.currentAnimeStudios=[],this.subscriptions=new gt.w0,this.searchAnimeGenreFormControl=new V.NI("",{nonNullable:!0,updateOn:"change"}),this.searchAnimeStudioFormControl=new V.NI("",{nonNullable:!0,updateOn:"change"}),this.animeTypes=Object.values(ii.TA),this.animeStatuses=Object.values(ei.t_),this.searchingGenre="",this.searchingStudio="";const v=this.searchAnimeGenreFormControl.valueChanges.pipe((0,W.O)(this.searchAnimeGenreFormControl.value));this.searchingAnimeGenres$=v.pipe((0,ai.b)(100),(0,Lt.w)(L=>(this.searchingGenre=L,this.animeService.getGenresByName(L,3))));const I=this.searchAnimeStudioFormControl.valueChanges.pipe((0,W.O)(this.searchAnimeStudioFormControl.value));this.searchingAnimeStudios$=I.pipe((0,ai.b)(100),(0,Lt.w)(L=>(this.searchingStudio=L,this.animeService.getStudiosByName(L,3)))),this.editForm=l.group({titleEnglish:[""],titleJapanese:[""],synopsis:["",[V.kI.required]],aired:l.group({start:[""],end:[""]}),image:["",[V.kI.required]],trailerYoutubeId:[""],status:["",[V.kI.required]],type:["",[V.kI.required]],isAiring:["",[V.kI.required]],genresData:[""],studiosData:[""]}),this.subscriptions.add(this.editForm.controls.image.valueChanges.pipe((0,zt.b)(L=>{L instanceof File&&this.uploadAnimeImage(L)})).subscribe())}ngOnInit(){this.currentAnimeGenres=[...this.animeData.genresData],this.currentAnimeStudios=[...this.animeData.studiosData];const{controls:t}=this.editForm;t.titleEnglish.setValue(this.animeData.titleEnglish),t.titleJapanese.setValue(this.animeData.titleJapanese),t.synopsis.setValue(this.animeData.synopsis),this.editForm.get(["aired","start"])?.setValue(this.animeData.aired.start),this.editForm.get(["aired","end"])?.setValue(this.animeData.aired.end),t.image.setValue(this.animeData.image),t.trailerYoutubeId.setValue(this.animeData.trailerYoutubeId),t.status.setValue(this.animeData.status),t.type.setValue(this.animeData.type),t.isAiring.setValue(this.animeData.isAiring),t.genresData.setValue(this.currentAnimeGenres),t.studiosData.setValue(this.currentAnimeStudios),this.animeImagePreview$.next(this.animeData.image)}ngOnDestroy(){this.subscriptions.unsubscribe()}handleSubmit(){if(this.editForm.invalid)return;const t=this.editForm.value,i=t.genresData.map(({id:v})=>v),n=t.studiosData.map(({id:v})=>v),l=new te.g({...this.animeData,...t,genresIdList:i,studiosIdList:n});this.subscriptions.add(this.onSubmit(l).subscribe(v=>{null!==v&&(this.editForm.setErrors({[v[0]]:v[1]}),this.cdr.markForCheck())}))}removeGenre(t){const i=this.currentAnimeGenres.findIndex(({id:n})=>t===n);this.currentAnimeGenres.splice(i,1)}removeStudio(t){const i=this.currentAnimeStudios.findIndex(({id:n})=>t===n);this.currentAnimeStudios.splice(i,1)}addGenre(t){this.currentAnimeGenres.some(({id:i})=>t.id===i)||(this.currentAnimeGenres.push(t),this.searchAnimeGenreFormControl.setValue(""))}addStudio(t){this.currentAnimeStudios.some(({id:i})=>t.id===i)||(this.currentAnimeStudios.push(t),this.searchAnimeStudioFormControl.setValue(""))}createGenre(){this.subscriptions.add(this.animeService.createGenre(this.searchingGenre).pipe((0,zt.b)(t=>this.addGenre(t))).subscribe())}createStudio(){this.subscriptions.add(this.animeService.createStudio(this.searchingStudio).pipe((0,zt.b)(t=>this.addStudio(t))).subscribe())}uploadAnimeImage(t){this.subscriptions.add(this.fileLoader.uploadImage(t).subscribe(i=>{this.animeImagePreview$.next(i),this.editForm.controls.image.setValue(i)}))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(e.sBO),e.Y36(ee.o),e.Y36(In),e.Y36(V.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-anime-edit-form"]],inputs:{onSubmit:"onSubmit",animeData:"animeData"},decls:112,vars:35,consts:[[1,"mat-elevation-z8","edit",3,"formGroup","submit"],[1,"general-anime-info"],["class","anime-image","alt","Current anime image",3,"src",4,"ngIf"],[4,"ngIf"],["appearance","fill",1,"edit__field"],["formControlName","image","accept",".png, .jpg, .jpeg, .webp"],["formControlName","titleEnglish","type","text","placeholder","Anime english title","matInput",""],["formControlName","titleJapanese","type","text","placeholder","Anime japanese title","matInput",""],["rows","10","formControlName","synopsis","matInput","","placeholder","Anime english title"],["appearance","fill",1,"edit__field","edit__short-field"],["formControlName","trailerYoutubeId","type","text","placeholder","Id of the youtube trailer","matInput",""],["formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],["formGroupName","aired"],["formControlName","start","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["datepickerStart",""],["type","button","mat-button","","matDatepickerCancel",""],["type","button","mat-raised-button","","color","primary","matDatepickerApply",""],["formControlName","end","matInput","",3,"matDatepicker"],["datepickerEnd",""],["formControlName","isAiring"],["formControlName","genresData"],["genreList",""],[3,"removed",4,"ngFor","ngForOf"],["matInput","","placeholder","Add genre",3,"formControl","matAutocomplete","matChipInputFor"],["genreAutocomplete","matAutocomplete"],["class","highlighted",3,"click",4,"ngIf"],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","studiosData"],["studioList",""],["matInput","","placeholder","Add studio",3,"formControl","matAutocomplete","matChipInputFor"],["studioAutocomplete","matAutocomplete"],["type","submit","mat-flat-button","","color","accent"],["alt","Current anime image",1,"anime-image",3,"src"],[3,"value"],[3,"removed"],["type","button","matChipRemove",""],[1,"highlighted",3,"click"],[3,"value","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.handleSubmit()}),e.TgZ(1,"div",1)(2,"div"),e.YNc(3,Fn,1,1,"img",2),e.ALo(4,"async"),e.TgZ(5,"div"),e.YNc(6,Sn,2,1,"mat-error",3),e.TgZ(7,"mat-form-field",4)(8,"mat-label"),e._uU(9,"Select image"),e.qZA(),e._UZ(10,"ngx-mat-file-input",5),e.qZA()()(),e.TgZ(11,"div"),e.YNc(12,On,2,1,"mat-error",3),e.TgZ(13,"mat-form-field",4)(14,"mat-label"),e._uU(15,"Title english"),e.qZA(),e._UZ(16,"input",6),e.qZA(),e.YNc(17,Rn,2,1,"mat-error",3),e.TgZ(18,"mat-form-field",4)(19,"mat-label"),e._uU(20,"Title japanese"),e.qZA(),e._UZ(21,"input",7),e.qZA()()(),e.TgZ(22,"div"),e.YNc(23,Ln,2,1,"mat-error",3),e.TgZ(24,"mat-form-field",4)(25,"mat-label"),e._uU(26,"Synopsis"),e.qZA(),e._UZ(27,"textarea",8),e.qZA()(),e.TgZ(28,"div"),e.YNc(29,Vn,2,1,"mat-error",3),e.TgZ(30,"mat-form-field",9)(31,"mat-label"),e._uU(32,"YouTube trailer"),e.qZA(),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"div"),e.YNc(35,Nn,2,1,"mat-error",3),e.TgZ(36,"mat-form-field",9)(37,"mat-label"),e._uU(38,"Anime status"),e.qZA(),e.TgZ(39,"mat-select",11),e.YNc(40,Bn,3,4,"mat-option",12),e.qZA()(),e.YNc(41,Pn,2,1,"mat-error",3),e.TgZ(42,"mat-form-field",9)(43,"mat-label"),e._uU(44,"Anime type"),e.qZA(),e.TgZ(45,"mat-select",13),e.YNc(46,Yn,3,4,"mat-option",12),e.qZA()()(),e.TgZ(47,"div")(48,"span"),e._uU(49,"Aired"),e.qZA(),e.TgZ(50,"span",14)(51,"mat-form-field",9)(52,"mat-label"),e._uU(53,"Start"),e.qZA(),e._UZ(54,"input",15),e.TgZ(55,"mat-hint"),e._uU(56,"MM/DD/YYYY"),e.qZA(),e._UZ(57,"mat-datepicker-toggle",16),e.TgZ(58,"mat-datepicker",null,17)(60,"mat-datepicker-actions")(61,"button",18),e._uU(62,"Cancel"),e.qZA(),e.TgZ(63,"button",19),e._uU(64," Apply "),e.qZA()()()(),e.TgZ(65,"mat-form-field",9)(66,"mat-label"),e._uU(67,"End"),e.qZA(),e._UZ(68,"input",20),e.TgZ(69,"mat-hint"),e._uU(70,"MM/DD/YYYY"),e.qZA(),e._UZ(71,"mat-datepicker-toggle",16),e.TgZ(72,"mat-datepicker",null,21)(74,"mat-datepicker-actions")(75,"button",18),e._uU(76,"Cancel"),e.qZA(),e.TgZ(77,"button",19),e._uU(78," Apply "),e.qZA()()()()(),e.TgZ(79,"mat-checkbox",22),e._uU(80,"Airing"),e.qZA()(),e.TgZ(81,"div"),e.YNc(82,Un,2,1,"mat-error",3),e.TgZ(83,"mat-form-field",4)(84,"mat-label"),e._uU(85,"Genres"),e.qZA(),e.TgZ(86,"mat-chip-list",23,24),e.YNc(88,Zn,5,1,"mat-chip",25),e._UZ(89,"input",26),e.TgZ(90,"mat-autocomplete",null,27),e.YNc(92,Hn,4,0,"mat-option",28),e.YNc(93,Gn,2,2,"mat-option",29),e.ALo(94,"async"),e.qZA()()()(),e.TgZ(95,"div"),e.YNc(96,Kn,2,1,"mat-error",3),e.TgZ(97,"mat-form-field",4)(98,"mat-label"),e._uU(99,"Studios"),e.qZA(),e.TgZ(100,"mat-chip-list",30,31),e.YNc(102,zn,5,1,"mat-chip",25),e._UZ(103,"input",32),e.TgZ(104,"mat-autocomplete",null,33),e.YNc(106,qn,4,0,"mat-option",28),e.YNc(107,jn,2,2,"mat-option",29),e.ALo(108,"async"),e.qZA()()()(),e.TgZ(109,"div")(110,"button",34),e._uU(111,"Save"),e.qZA()()()),2&t){const n=e.MAs(59),l=e.MAs(73),v=e.MAs(87),I=e.MAs(91),L=e.MAs(101),X=e.MAs(105);e.Q6J("formGroup",i.editForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,29,i.animeImagePreview$)),e.xp6(3),e.Q6J("ngIf",i.editForm.hasError("image")),e.xp6(6),e.Q6J("ngIf",i.editForm.hasError("titleEnglish")),e.xp6(5),e.Q6J("ngIf",i.editForm.hasError("titleJapanese")),e.xp6(6),e.Q6J("ngIf",i.editForm.hasError("synopsis")),e.xp6(6),e.Q6J("ngIf",i.editForm.hasError("trailerYoutubeId")),e.xp6(6),e.Q6J("ngIf",i.editForm.hasError("status")),e.xp6(5),e.Q6J("ngForOf",i.animeStatuses),e.xp6(1),e.Q6J("ngIf",i.editForm.hasError("type")),e.xp6(5),e.Q6J("ngForOf",i.animeTypes),e.xp6(8),e.Q6J("matDatepicker",n),e.xp6(3),e.Q6J("for",n),e.xp6(11),e.Q6J("matDatepicker",l),e.xp6(3),e.Q6J("for",l),e.xp6(11),e.Q6J("ngIf",i.editForm.hasError("genresData")),e.xp6(6),e.Q6J("ngForOf",i.currentAnimeGenres),e.xp6(1),e.Q6J("formControl",i.searchAnimeGenreFormControl)("matAutocomplete",I)("matChipInputFor",v),e.xp6(3),e.Q6J("ngIf",i.searchAnimeGenreFormControl.value),e.xp6(1),e.Q6J("ngForOf",e.lcZ(94,31,i.searchingAnimeGenres$)),e.xp6(3),e.Q6J("ngIf",i.editForm.hasError("studiosData")),e.xp6(6),e.Q6J("ngForOf",i.currentAnimeStudios),e.xp6(1),e.Q6J("formControl",i.searchAnimeStudioFormControl)("matAutocomplete",X)("matChipInputFor",L),e.xp6(3),e.Q6J("ngIf",i.searchAnimeStudioFormControl.value),e.xp6(1),e.Q6J("ngForOf",e.lcZ(108,33,i.searchingAnimeStudios$))}},dependencies:[D.sg,D.O5,V._Y,V.Fj,V.JJ,V.JL,V.oH,V.sg,V.u,V.x0,H.TO,H.KE,H.bx,H.hX,H.R9,Jt.Nt,S.Hw,Q,q,Et,st,vt.lW,Se,ga,ge,Ca,Aa,xa,Da,Ge.gD,m.ey,La,qe,Qa,D.Ov,ni.A,si.R],styles:[".edit[_ngcontent-%COMP%]{padding:15px}.edit__field[_ngcontent-%COMP%]{margin:0 5px;width:100%}.edit__short-field[_ngcontent-%COMP%]{width:25%}.highlighted[_ngcontent-%COMP%]{color:#004a7f}.general-anime-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr}.anime-image[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),a})();const De="UNKNOWN";let Jn=(()=>{class a{constructor(t,i){this.router=t,this.animeService=i,this.defaultAnimeData=new te.g({trailerYoutubeId:"",synopsis:"",isAiring:!1,studiosIdList:[],genresIdList:[],studiosData:[],genresData:[],source:De,rating:De,season:"NON_SEASONAL",background:De,aired:{start:null,end:null},id:0,image:"",status:ei.t_.NotYetAired,titleEnglish:"",titleJapanese:"",type:ii.TA.Movie}),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(t){return this.animeService.createAnime(t).pipe((0,yt.U)(i=>i instanceof te.g?(this.goToView(i.id),null):i))}goToView(t){this.router.navigate(["details",t,"view"])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Mt.F0),e.Y36(ee.o))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-anime-create"]],decls:1,vars:2,consts:[[3,"animeData","onSubmit"]],template:function(t,i){1&t&&e._UZ(0,"camp-anime-edit-form",0),2&t&&e.Q6J("animeData",i.defaultAnimeData)("onSubmit",i.handleSubmit)},dependencies:[oi],changeDetection:0}),a})();function Xn(a,o){if(1&a){const t=e.EpF();e.ynx(0),e._UZ(1,"camp-anime-edit-form",2),e.TgZ(2,"div")(3,"button",3),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToView())}),e._uU(4,"Go back"),e.qZA()(),e.BQk()}if(2&a){const t=o.ngIf,i=e.oxw();e.xp6(1),e.Q6J("animeData",t)("onSubmit",i.handleSubmit)}}function Wn(a,o){1&a&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner",5),e.qZA())}let $n=(()=>{class a{constructor(t,i,n){this.router=t,this.animeService=i,this.animeSubscription=new gt.w0;const{id:l}=n.snapshot.params;this.currentAnime$=i.getAnimeById(Number(l)),this.animeSubscription.add(this.currentAnime$.subscribe()),this.animeId=Number(l),this.handleSubmit=this.handleSubmit.bind(this)}ngOnDestroy(){this.animeSubscription.unsubscribe()}handleSubmit(t){return this.animeService.changeAnimeById(this.animeId,t).pipe((0,yt.U)(n=>n instanceof te.g?(this.goToView(),null):n))}goToView(){this.router.navigate(["details",this.animeId,"view"])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Mt.F0),e.Y36(ee.o),e.Y36(Mt.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-anime-edit"]],decls:5,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"animeData","onSubmit"],["type","button","mat-flat-button","","color","warn",3,"click"],[1,"loading-layout"],["color","primary","diameter","120"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Xn,5,2,"ng-container",0),e.ALo(2,"async"),e.qZA(),e.YNc(3,Wn,2,0,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.currentAnime$))("ngIfElse",n)}},dependencies:[D.O5,re.Ou,vt.lW,oi,D.Ov],changeDetection:0}),a})();var ts=w(7572);let es=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-anime-info"]],decls:4,vars:1,consts:[[3,"shouldRedirectAfterLogout"],[1,"content"],[1,"default-layout"]],template:function(t,i){1&t&&(e._UZ(0,"camp-header",0),e.TgZ(1,"main",1)(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()()),2&t&&e.Q6J("shouldRedirectAfterLogout",!0)},dependencies:[Mt.lC,ts.G],changeDetection:0}),a})(),is=(()=>{class a{constructor(t,i){this.dialogData=t,this.dialogRef=i}handleChoose(t){t&&this.dialogData.onConfirm(),this.dialogRef.close()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(se),e.Y36(ke))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-confirm-deleting-anime"]],decls:10,vars:0,consts:[[1,"content-space-between"],["type","button","mat-flat-button","",3,"click"],["type","button","mat-flat-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Delete anime"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Are you sure you want to delete this anime?"),e.qZA(),e.TgZ(5,"div",0)(6,"button",1),e.NdJ("click",function(){return i.handleChoose(!1)}),e._uU(7," No "),e.qZA(),e.TgZ(8,"button",2),e.NdJ("click",function(){return i.handleChoose(!0)}),e._uU(9," Yes "),e.qZA()()())},dependencies:[vt.lW],changeDetection:0}),a})(),as=(()=>{class a{constructor(t){this.dialogData=t}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(se))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-image-dialog"]],decls:1,vars:2,consts:[[1,"popup-image",3,"src","alt"]],template:function(t,i){1&t&&e._UZ(0,"img",0),2&t&&e.Q6J("src",i.dialogData.src,e.LSH)("alt",i.dialogData.alt)},styles:[".popup-image[_ngcontent-%COMP%]{height:90vh}"],changeDetection:0}),a})();var ns=w(5393);function ss(a,o){if(1&a&&e._UZ(0,"youtube-player",15),2&a){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("videoId",t.trailerYoutubeId)("width",i.mediaWidth)("height",i.mediaHeight)}}function rs(a,o){if(1&a&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function os(a,o){if(1&a&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function ls(a,o){if(1&a&&(e.TgZ(0,"div"),e._uU(1," Studio: "),e.TgZ(2,"mat-chip-list"),e.YNc(3,os,2,1,"mat-chip",16),e.qZA()()),2&a){const t=e.oxw().ngIf;e.xp6(3),e.Q6J("ngForOf",t.studiosData)}}function cs(a,o){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"img",4),e.NdJ("click",function(){const l=e.CHM(t).ngIf,v=e.oxw();return e.KtG(v.showFullSizeImage(l.image,l.titleEnglish||"-"))}),e.qZA(),e.YNc(4,ss,1,3,"youtube-player",5),e.qZA(),e.TgZ(5,"div",3)(6,"h2",6),e._uU(7),e.ALo(8,"emptyValueHandler"),e.ALo(9,"emptyValueHandler"),e.TgZ(10,"button",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleDeleteButtonClick())}),e._uU(11," Delete "),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA()(),e.TgZ(14,"a",8),e._uU(15,"Edit "),e.TgZ(16,"mat-icon"),e._uU(17,"create"),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",10)(20,"mat-icon"),e._uU(21,"calendar_today"),e.qZA(),e.TgZ(22,"div")(23,"span",11),e._uU(24),e.ALo(25,"emptyValueHandler"),e.ALo(26,"date"),e.ALo(27,"emptyValueHandler"),e.ALo(28,"date"),e.ALo(29,"animeStatus"),e.qZA()()(),e.TgZ(30,"div",10)(31,"mat-icon"),e._uU(32,"theaters"),e.qZA(),e.TgZ(33,"div"),e.YNc(34,rs,2,1,"span",12),e.qZA()(),e.TgZ(35,"div",10)(36,"mat-icon"),e._uU(37,"movie"),e.qZA(),e.TgZ(38,"div")(39,"span",11),e._uU(40),e.ALo(41,"animeType"),e.qZA()()()(),e.TgZ(42,"p",13),e._uU(43),e.qZA(),e.YNc(44,ls,4,1,"div",14),e.qZA()(),e.BQk()}if(2&a){const t=o.ngIf;e.xp6(3),e.Q6J("src",t.image,e.LSH)("alt","Image for "+t.titleEnglish),e.xp6(1),e.Q6J("ngIf",t.trailerYoutubeId),e.xp6(3),e.AsE(" ",e.lcZ(8,12,t.titleEnglish)," (",e.lcZ(9,14,t.titleJapanese),") "),e.xp6(17),e.lnq("",e.lcZ(25,16,e.xi3(26,18,t.aired.start,"YYYY"))," / ",e.lcZ(27,21,e.xi3(28,23,t.aired.end,"YYYY"))," (",e.lcZ(29,26,t.status),")"),e.xp6(10),e.Q6J("ngForOf",t.genresData),e.xp6(6),e.Oqu(e.lcZ(41,28,t.type)),e.xp6(3),e.Oqu(t.synopsis),e.xp6(1),e.Q6J("ngIf",t.studiosData.length)}}function ds(a,o){1&a&&(e.TgZ(0,"div",17),e._UZ(1,"mat-spinner",18),e.qZA())}const hs=[{path:"",component:es,canActivate:[kn],children:[{path:"create",component:Jn},{path:":id",redirectTo:":id/view",pathMatch:"full"},{path:":id/view",component:(()=>{class a{constructor(t,i,n){this.dialog=t,this.animeService=i,this.animeDetailsSubscription=new gt.w0,this.resolution=16/9,this.mediaWidth=400,this.mediaHeight=this.mediaWidth/this.resolution;const{id:l}=n.snapshot.params;this.animeDetails$=this.animeService.getAnimeById(Number(l)),this.animeDetailsSubscription.add(this.animeDetails$.subscribe()),this.animeID=Number(l),this.deleteCurrentAnime=this.deleteCurrentAnime.bind(this)}ngOnDestroy(){this.animeDetailsSubscription.unsubscribe()}showFullSizeImage(t,i){this.dialog.open(as,{data:{src:t,alt:i}})}handleDeleteButtonClick(){this.dialog.open(is,{data:{onConfirm:this.deleteCurrentAnime}})}deleteCurrentAnime(){this.animeDetailsSubscription.add(this.animeService.deleteAnime(this.animeID).subscribe())}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Ee),e.Y36(ee.o),e.Y36(Mt.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["camp-anime-view"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"details"],[1,"details__sector"],[1,"details__media","details__image",3,"src","alt","click"],["class","details__media details__trailer",3,"videoId","width","height",4,"ngIf"],[1,"mat-title"],["type","button","mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","routerLink","../edit","color","accent"],[1,"details__info-list"],[1,"info-list__item"],[1,"info-list__item-info"],["class","info-list__item-info",4,"ngFor","ngForOf"],[1,"mat-font"],[4,"ngIf"],[1,"details__media","details__trailer",3,"videoId","width","height"],[4,"ngFor","ngForOf"],[1,"loading-layout"],["color","primary","diameter","120"]],template:function(t,i){if(1&t&&(e.YNc(0,cs,45,30,"ng-container",0),e.ALo(1,"async"),e.YNc(2,ds,2,0,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,i.animeDetails$))("ngIfElse",n)}},dependencies:[D.sg,D.O5,Mt.yS,S.Hw,Q,q,re.Ou,vt.lW,vt.zs,$e,D.Ov,D.uU,ni.A,si.R,ns.J],styles:[".details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr}.details__sector[_ngcontent-%COMP%]{padding:20px}.details__media[_ngcontent-%COMP%]{width:100%}.details__trailer[_ngcontent-%COMP%]{height:50%}.details__info-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.info-list__item[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.info-list__item-info[_ngcontent-%COMP%]{margin:0 3px;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.details__image[_ngcontent-%COMP%]{cursor:zoom-in}"],changeDetection:0}),a})()},{path:":id/edit",component:$n}]}];let us=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Mt.Bz.forChild(hs),Mt.Bz]}),a})(),ms=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[D.ez,us,An.m,V.u5,V.UX,H.lN,Jt.c,S.Ps,at,Pt,wi,re.Cq,vt.ot,Bi,wa,Ge.LD,Ya,Ja,xn]}),a})()},6434:(ct,$)=>{"use strict";$.byteLength=function f(O){var Y=k(O),V=Y[1];return 3*(Y[0]+V)/4-V},$.toByteArray=function G(O){var Y,d,Z=k(O),V=Z[0],H=Z[1],A=new S(function N(O,Y,Z){return 3*(Y+Z)/4-Z}(0,V,H)),R=0,p=H>0?V-4:V;for(d=0;d<p;d+=4)Y=D[O.charCodeAt(d)]<<18|D[O.charCodeAt(d+1)]<<12|D[O.charCodeAt(d+2)]<<6|D[O.charCodeAt(d+3)],A[R++]=Y>>16&255,A[R++]=Y>>8&255,A[R++]=255&Y;return 2===H&&(Y=D[O.charCodeAt(d)]<<2|D[O.charCodeAt(d+1)]>>4,A[R++]=255&Y),1===H&&(Y=D[O.charCodeAt(d)]<<10|D[O.charCodeAt(d+1)]<<4|D[O.charCodeAt(d+2)]>>2,A[R++]=Y>>8&255,A[R++]=255&Y),A},$.fromByteArray=function W(O){for(var Y,Z=O.length,V=Z%3,H=[],A=16383,R=0,p=Z-V;R<p;R+=A)H.push(U(O,R,R+A>p?p:R+A));return 1===V?H.push(w[(Y=O[Z-1])>>2]+w[Y<<4&63]+"=="):2===V&&H.push(w[(Y=(O[Z-2]<<8)+O[Z-1])>>10]+w[Y>>4&63]+w[Y<<2&63]+"="),H.join("")};for(var w=[],D=[],S=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,m=b.length;e<m;++e)w[e]=b[e],D[b.charCodeAt(e)]=e;function k(O){var Y=O.length;if(Y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Z=O.indexOf("=");return-1===Z&&(Z=Y),[Z,Z===Y?0:4-Z%4]}function P(O){return w[O>>18&63]+w[O>>12&63]+w[O>>6&63]+w[63&O]}function U(O,Y,Z){for(var H=[],A=Y;A<Z;A+=3)H.push(P((O[A]<<16&16711680)+(O[A+1]<<8&65280)+(255&O[A+2])));return H.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},3875:(ct,$,w)=>{"use strict";var D=w(6434),S=w(2658),b="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;$.Buffer=f,$.SlowBuffer=function A(h){return+h!=h&&(h=0),f.alloc(+h)},$.INSPECT_MAX_BYTES=50;var e=2147483647;function k(h){if(h>e)throw new RangeError('The value "'+h+'" is invalid for option "size"');var s=new Uint8Array(h);return Object.setPrototypeOf(s,f.prototype),s}function f(h,s,r){if("number"==typeof h){if("string"==typeof s)throw new TypeError('The "string" argument must be of type string. Received type number');return U(h)}return N(h,s,r)}function N(h,s,r){if("string"==typeof h)return function W(h,s){if(("string"!=typeof s||""===s)&&(s="utf8"),!f.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var r=0|R(h,s),g=k(r),C=g.write(h,s);return C!==r&&(g=g.slice(0,C)),g}(h,s);if(ArrayBuffer.isView(h))return function Y(h){if(tt(h,Uint8Array)){var s=new Uint8Array(h);return Z(s.buffer,s.byteOffset,s.byteLength)}return O(h)}(h);if(null==h)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(tt(h,ArrayBuffer)||h&&tt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tt(h,SharedArrayBuffer)||h&&tt(h.buffer,SharedArrayBuffer)))return Z(h,s,r);if("number"==typeof h)throw new TypeError('The "value" argument must not be of type number. Received type number');var g=h.valueOf&&h.valueOf();if(null!=g&&g!==h)return f.from(g,s,r);var C=function V(h){if(f.isBuffer(h)){var s=0|H(h.length),r=k(s);return 0===r.length||h.copy(r,0,0,s),r}return void 0!==h.length?"number"!=typeof h.length||mt(h.length)?k(0):O(h):"Buffer"===h.type&&Array.isArray(h.data)?O(h.data):void 0}(h);if(C)return C;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof h[Symbol.toPrimitive])return f.from(h[Symbol.toPrimitive]("string"),s,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}function G(h){if("number"!=typeof h)throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function U(h){return G(h),k(h<0?0:0|H(h))}function O(h){for(var s=h.length<0?0:0|H(h.length),r=k(s),g=0;g<s;g+=1)r[g]=255&h[g];return r}function Z(h,s,r){if(s<0||h.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<s+(r||0))throw new RangeError('"length" is outside of buffer bounds');var g;return g=void 0===s&&void 0===r?new Uint8Array(h):void 0===r?new Uint8Array(h,s):new Uint8Array(h,s,r),Object.setPrototypeOf(g,f.prototype),g}function H(h){if(h>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|h}function R(h,s){if(f.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||tt(h,ArrayBuffer))return h.byteLength;if("string"!=typeof h)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);var r=h.length,g=arguments.length>2&&!0===arguments[2];if(!g&&0===r)return 0;for(var C=!1;;)switch(s){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return c(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(h).length;default:if(C)return g?-1:c(h).length;s=(""+s).toLowerCase(),C=!0}}function p(h,s,r){var g=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(s>>>=0))return"";for(h||(h="utf8");;)switch(h){case"hex":return Et(this,s,r);case"utf8":case"utf-8":return St(this,s,r);case"ascii":return Q(this,s,r);case"latin1":case"binary":return Zt(this,s,r);case"base64":return Ct(this,s,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,s,r);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),g=!0}}function d(h,s,r){var g=h[s];h[s]=h[r],h[r]=g}function x(h,s,r,g,C){if(0===h.length)return-1;if("string"==typeof r?(g=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),mt(r=+r)&&(r=C?0:h.length-1),r<0&&(r=h.length+r),r>=h.length){if(C)return-1;r=h.length-1}else if(r<0){if(!C)return-1;r=0}if("string"==typeof s&&(s=f.from(s,g)),f.isBuffer(s))return 0===s.length?-1:F(h,s,r,g,C);if("number"==typeof s)return s&=255,"function"==typeof Uint8Array.prototype.indexOf?C?Uint8Array.prototype.indexOf.call(h,s,r):Uint8Array.prototype.lastIndexOf.call(h,s,r):F(h,[s],r,g,C);throw new TypeError("val must be string, number or Buffer")}function F(h,s,r,g,C){var nt,E=1,T=h.length,j=s.length;if(void 0!==g&&("ucs2"===(g=String(g).toLowerCase())||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(h.length<2||s.length<2)return-1;E=2,T/=2,j/=2,r/=2}function et(lt,ht){return 1===E?lt[ht]:lt.readUInt16BE(ht*E)}if(C){var pt=-1;for(nt=r;nt<T;nt++)if(et(h,nt)===et(s,-1===pt?0:nt-pt)){if(-1===pt&&(pt=nt),nt-pt+1===j)return pt*E}else-1!==pt&&(nt-=nt-pt),pt=-1}else for(r+j>T&&(r=T-j),nt=r;nt>=0;nt--){for(var ot=!0,Pt=0;Pt<j;Pt++)if(et(h,nt+Pt)!==et(s,Pt)){ot=!1;break}if(ot)return nt}return-1}function B(h,s,r,g){r=Number(r)||0;var C=h.length-r;g?(g=Number(g))>C&&(g=C):g=C;var E=s.length;g>E/2&&(g=E/2);for(var T=0;T<g;++T){var j=parseInt(s.substr(2*T,2),16);if(mt(j))return T;h[r+T]=j}return T}function _(h,s,r,g){return rt(c(s,h.length-r),h,r,g)}function K(h,s,r,g){return rt(function M(h){for(var s=[],r=0;r<h.length;++r)s.push(255&h.charCodeAt(r));return s}(s),h,r,g)}function q(h,s,r,g){return rt(J(s),h,r,g)}function st(h,s,r,g){return rt(function y(h,s){for(var r,g,E=[],T=0;T<h.length&&!((s-=2)<0);++T)g=(r=h.charCodeAt(T))>>8,E.push(r%256),E.push(g);return E}(s,h.length-r),h,r,g)}function Ct(h,s,r){return D.fromByteArray(0===s&&r===h.length?h:h.slice(s,r))}function St(h,s,r){r=Math.min(h.length,r);for(var g=[],C=s;C<r;){var et,nt,pt,ot,E=h[C],T=null,j=E>239?4:E>223?3:E>191?2:1;if(C+j<=r)switch(j){case 1:E<128&&(T=E);break;case 2:128==(192&(et=h[C+1]))&&(ot=(31&E)<<6|63&et)>127&&(T=ot);break;case 3:nt=h[C+2],128==(192&(et=h[C+1]))&&128==(192&nt)&&(ot=(15&E)<<12|(63&et)<<6|63&nt)>2047&&(ot<55296||ot>57343)&&(T=ot);break;case 4:nt=h[C+2],pt=h[C+3],128==(192&(et=h[C+1]))&&128==(192&nt)&&128==(192&pt)&&(ot=(15&E)<<18|(63&et)<<12|(63&nt)<<6|63&pt)>65535&&ot<1114112&&(T=ot)}null===T?(T=65533,j=1):T>65535&&(g.push((T-=65536)>>>10&1023|55296),T=56320|1023&T),g.push(T),C+=j}return function Vt(h){var s=h.length;if(s<=4096)return String.fromCharCode.apply(String,h);for(var r="",g=0;g<s;)r+=String.fromCharCode.apply(String,h.slice(g,g+=4096));return r}(g)}function Q(h,s,r){var g="";r=Math.min(h.length,r);for(var C=s;C<r;++C)g+=String.fromCharCode(127&h[C]);return g}function Zt(h,s,r){var g="";r=Math.min(h.length,r);for(var C=s;C<r;++C)g+=String.fromCharCode(h[C]);return g}function Et(h,s,r){var g=h.length;(!s||s<0)&&(s=0),(!r||r<0||r>g)&&(r=g);for(var C="",E=s;E<r;++E)C+=_t[h[E]];return C}function Nt(h,s,r){for(var g=h.slice(s,r),C="",E=0;E<g.length-1;E+=2)C+=String.fromCharCode(g[E]+256*g[E+1]);return C}function at(h,s,r){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+s>r)throw new RangeError("Trying to access beyond buffer length")}function ut(h,s,r,g,C,E){if(!f.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>C||s<E)throw new RangeError('"value" argument is out of bounds');if(r+g>h.length)throw new RangeError("Index out of range")}function Bt(h,s,r,g,C,E){if(r+g>h.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ot(h,s,r,g,C){return s=+s,r>>>=0,C||Bt(h,0,r,4),S.write(h,s,r,g,23,4),r+4}function Rt(h,s,r,g,C){return s=+s,r>>>=0,C||Bt(h,0,r,8),S.write(h,s,r,g,52,8),r+8}$.kMaxLength=e,!(f.TYPED_ARRAY_SUPPORT=function m(){try{var h=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(h,s),42===h.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(h,s,r){return N(h,s,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(h,s,r){return function P(h,s,r){return G(h),h<=0?k(h):void 0!==s?"string"==typeof r?k(h).fill(s,r):k(h).fill(s):k(h)}(h,s,r)},f.allocUnsafe=function(h){return U(h)},f.allocUnsafeSlow=function(h){return U(h)},f.isBuffer=function(s){return null!=s&&!0===s._isBuffer&&s!==f.prototype},f.compare=function(s,r){if(tt(s,Uint8Array)&&(s=f.from(s,s.offset,s.byteLength)),tt(r,Uint8Array)&&(r=f.from(r,r.offset,r.byteLength)),!f.isBuffer(s)||!f.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===r)return 0;for(var g=s.length,C=r.length,E=0,T=Math.min(g,C);E<T;++E)if(s[E]!==r[E]){g=s[E],C=r[E];break}return g<C?-1:C<g?1:0},f.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(s,r){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return f.alloc(0);var g;if(void 0===r)for(r=0,g=0;g<s.length;++g)r+=s[g].length;var C=f.allocUnsafe(r),E=0;for(g=0;g<s.length;++g){var T=s[g];if(tt(T,Uint8Array))E+T.length>C.length?f.from(T).copy(C,E):Uint8Array.prototype.set.call(C,T,E);else{if(!f.isBuffer(T))throw new TypeError('"list" argument must be an Array of Buffers');T.copy(C,E)}E+=T.length}return C},f.byteLength=R,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<s;r+=2)d(this,r,r+1);return this},f.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<s;r+=4)d(this,r,r+3),d(this,r+1,r+2);return this},f.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<s;r+=8)d(this,r,r+7),d(this,r+1,r+6),d(this,r+2,r+5),d(this,r+3,r+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var s=this.length;return 0===s?"":0===arguments.length?St(this,0,s):p.apply(this,arguments)},f.prototype.equals=function(s){if(!f.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===f.compare(this,s)},f.prototype.inspect=function(){var s="",r=$.INSPECT_MAX_BYTES;return s=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(s+=" ... "),"<Buffer "+s+">"},b&&(f.prototype[b]=f.prototype.inspect),f.prototype.compare=function(s,r,g,C,E){if(tt(s,Uint8Array)&&(s=f.from(s,s.offset,s.byteLength)),!f.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(void 0===r&&(r=0),void 0===g&&(g=s?s.length:0),void 0===C&&(C=0),void 0===E&&(E=this.length),r<0||g>s.length||C<0||E>this.length)throw new RangeError("out of range index");if(C>=E&&r>=g)return 0;if(C>=E)return-1;if(r>=g)return 1;if(this===s)return 0;for(var T=(E>>>=0)-(C>>>=0),j=(g>>>=0)-(r>>>=0),et=Math.min(T,j),nt=this.slice(C,E),pt=s.slice(r,g),ot=0;ot<et;++ot)if(nt[ot]!==pt[ot]){T=nt[ot],j=pt[ot];break}return T<j?-1:j<T?1:0},f.prototype.includes=function(s,r,g){return-1!==this.indexOf(s,r,g)},f.prototype.indexOf=function(s,r,g){return x(this,s,r,g,!0)},f.prototype.lastIndexOf=function(s,r,g){return x(this,s,r,g,!1)},f.prototype.write=function(s,r,g,C){if(void 0===r)C="utf8",g=this.length,r=0;else if(void 0===g&&"string"==typeof r)C=r,g=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(g)?(g>>>=0,void 0===C&&(C="utf8")):(C=g,g=void 0)}var E=this.length-r;if((void 0===g||g>E)&&(g=E),s.length>0&&(g<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var T=!1;;)switch(C){case"hex":return B(this,s,r,g);case"utf8":case"utf-8":return _(this,s,r,g);case"ascii":case"latin1":case"binary":return K(this,s,r,g);case"base64":return q(this,s,r,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,s,r,g);default:if(T)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),T=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(s,r){var g=this.length;(s=~~s)<0?(s+=g)<0&&(s=0):s>g&&(s=g),(r=void 0===r?g:~~r)<0?(r+=g)<0&&(r=0):r>g&&(r=g),r<s&&(r=s);var C=this.subarray(s,r);return Object.setPrototypeOf(C,f.prototype),C},f.prototype.readUintLE=f.prototype.readUIntLE=function(s,r,g){s>>>=0,r>>>=0,g||at(s,r,this.length);for(var C=this[s],E=1,T=0;++T<r&&(E*=256);)C+=this[s+T]*E;return C},f.prototype.readUintBE=f.prototype.readUIntBE=function(s,r,g){s>>>=0,r>>>=0,g||at(s,r,this.length);for(var C=this[s+--r],E=1;r>0&&(E*=256);)C+=this[s+--r]*E;return C},f.prototype.readUint8=f.prototype.readUInt8=function(s,r){return s>>>=0,r||at(s,1,this.length),this[s]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(s,r){return s>>>=0,r||at(s,2,this.length),this[s]|this[s+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(s,r){return s>>>=0,r||at(s,2,this.length),this[s]<<8|this[s+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(s,r){return s>>>=0,r||at(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(s,r){return s>>>=0,r||at(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},f.prototype.readIntLE=function(s,r,g){s>>>=0,r>>>=0,g||at(s,r,this.length);for(var C=this[s],E=1,T=0;++T<r&&(E*=256);)C+=this[s+T]*E;return C>=(E*=128)&&(C-=Math.pow(2,8*r)),C},f.prototype.readIntBE=function(s,r,g){s>>>=0,r>>>=0,g||at(s,r,this.length);for(var C=r,E=1,T=this[s+--C];C>0&&(E*=256);)T+=this[s+--C]*E;return T>=(E*=128)&&(T-=Math.pow(2,8*r)),T},f.prototype.readInt8=function(s,r){return s>>>=0,r||at(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},f.prototype.readInt16LE=function(s,r){s>>>=0,r||at(s,2,this.length);var g=this[s]|this[s+1]<<8;return 32768&g?4294901760|g:g},f.prototype.readInt16BE=function(s,r){s>>>=0,r||at(s,2,this.length);var g=this[s+1]|this[s]<<8;return 32768&g?4294901760|g:g},f.prototype.readInt32LE=function(s,r){return s>>>=0,r||at(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},f.prototype.readInt32BE=function(s,r){return s>>>=0,r||at(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},f.prototype.readFloatLE=function(s,r){return s>>>=0,r||at(s,4,this.length),S.read(this,s,!0,23,4)},f.prototype.readFloatBE=function(s,r){return s>>>=0,r||at(s,4,this.length),S.read(this,s,!1,23,4)},f.prototype.readDoubleLE=function(s,r){return s>>>=0,r||at(s,8,this.length),S.read(this,s,!0,52,8)},f.prototype.readDoubleBE=function(s,r){return s>>>=0,r||at(s,8,this.length),S.read(this,s,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(s,r,g,C){s=+s,r>>>=0,g>>>=0,C||ut(this,s,r,g,Math.pow(2,8*g)-1,0);var T=1,j=0;for(this[r]=255&s;++j<g&&(T*=256);)this[r+j]=s/T&255;return r+g},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(s,r,g,C){s=+s,r>>>=0,g>>>=0,C||ut(this,s,r,g,Math.pow(2,8*g)-1,0);var T=g-1,j=1;for(this[r+T]=255&s;--T>=0&&(j*=256);)this[r+T]=s/j&255;return r+g},f.prototype.writeUint8=f.prototype.writeUInt8=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,1,255,0),this[r]=255&s,r+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,2,65535,0),this[r]=255&s,this[r+1]=s>>>8,r+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,2,65535,0),this[r]=s>>>8,this[r+1]=255&s,r+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,4,4294967295,0),this[r+3]=s>>>24,this[r+2]=s>>>16,this[r+1]=s>>>8,this[r]=255&s,r+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,4,4294967295,0),this[r]=s>>>24,this[r+1]=s>>>16,this[r+2]=s>>>8,this[r+3]=255&s,r+4},f.prototype.writeIntLE=function(s,r,g,C){if(s=+s,r>>>=0,!C){var E=Math.pow(2,8*g-1);ut(this,s,r,g,E-1,-E)}var T=0,j=1,et=0;for(this[r]=255&s;++T<g&&(j*=256);)s<0&&0===et&&0!==this[r+T-1]&&(et=1),this[r+T]=(s/j>>0)-et&255;return r+g},f.prototype.writeIntBE=function(s,r,g,C){if(s=+s,r>>>=0,!C){var E=Math.pow(2,8*g-1);ut(this,s,r,g,E-1,-E)}var T=g-1,j=1,et=0;for(this[r+T]=255&s;--T>=0&&(j*=256);)s<0&&0===et&&0!==this[r+T+1]&&(et=1),this[r+T]=(s/j>>0)-et&255;return r+g},f.prototype.writeInt8=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,1,127,-128),s<0&&(s=255+s+1),this[r]=255&s,r+1},f.prototype.writeInt16LE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,2,32767,-32768),this[r]=255&s,this[r+1]=s>>>8,r+2},f.prototype.writeInt16BE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,2,32767,-32768),this[r]=s>>>8,this[r+1]=255&s,r+2},f.prototype.writeInt32LE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,4,2147483647,-2147483648),this[r]=255&s,this[r+1]=s>>>8,this[r+2]=s>>>16,this[r+3]=s>>>24,r+4},f.prototype.writeInt32BE=function(s,r,g){return s=+s,r>>>=0,g||ut(this,s,r,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[r]=s>>>24,this[r+1]=s>>>16,this[r+2]=s>>>8,this[r+3]=255&s,r+4},f.prototype.writeFloatLE=function(s,r,g){return Ot(this,s,r,!0,g)},f.prototype.writeFloatBE=function(s,r,g){return Ot(this,s,r,!1,g)},f.prototype.writeDoubleLE=function(s,r,g){return Rt(this,s,r,!0,g)},f.prototype.writeDoubleBE=function(s,r,g){return Rt(this,s,r,!1,g)},f.prototype.copy=function(s,r,g,C){if(!f.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!C&&0!==C&&(C=this.length),r>=s.length&&(r=s.length),r||(r=0),C>0&&C<g&&(C=g),C===g||0===s.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),s.length-r<C-g&&(C=s.length-r+g);var E=C-g;return this===s&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,g,C):Uint8Array.prototype.set.call(s,this.subarray(g,C),r),E},f.prototype.fill=function(s,r,g,C){if("string"==typeof s){if("string"==typeof r?(C=r,r=0,g=this.length):"string"==typeof g&&(C=g,g=this.length),void 0!==C&&"string"!=typeof C)throw new TypeError("encoding must be a string");if("string"==typeof C&&!f.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(1===s.length){var E=s.charCodeAt(0);("utf8"===C&&E<128||"latin1"===C)&&(s=E)}}else"number"==typeof s?s&=255:"boolean"==typeof s&&(s=Number(s));if(r<0||this.length<r||this.length<g)throw new RangeError("Out of range index");if(g<=r)return this;var T;if(r>>>=0,g=void 0===g?this.length:g>>>0,s||(s=0),"number"==typeof s)for(T=r;T<g;++T)this[T]=s;else{var j=f.isBuffer(s)?s:f.from(s,C),et=j.length;if(0===et)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(T=0;T<g-r;++T)this[T+r]=j[T%et]}return this};var qt=/[^+/0-9A-Za-z-_]/g;function c(h,s){s=s||1/0;for(var r,g=h.length,C=null,E=[],T=0;T<g;++T){if((r=h.charCodeAt(T))>55295&&r<57344){if(!C){if(r>56319){(s-=3)>-1&&E.push(239,191,189);continue}if(T+1===g){(s-=3)>-1&&E.push(239,191,189);continue}C=r;continue}if(r<56320){(s-=3)>-1&&E.push(239,191,189),C=r;continue}r=65536+(C-55296<<10|r-56320)}else C&&(s-=3)>-1&&E.push(239,191,189);if(C=null,r<128){if((s-=1)<0)break;E.push(r)}else if(r<2048){if((s-=2)<0)break;E.push(r>>6|192,63&r|128)}else if(r<65536){if((s-=3)<0)break;E.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;E.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return E}function J(h){return D.toByteArray(function u(h){if((h=(h=h.split("=")[0]).trim().replace(qt,"")).length<2)return"";for(;h.length%4!=0;)h+="=";return h}(h))}function rt(h,s,r,g){for(var C=0;C<g&&!(C+r>=s.length||C>=h.length);++C)s[C+r]=h[C];return C}function tt(h,s){return h instanceof s||null!=h&&null!=h.constructor&&null!=h.constructor.name&&h.constructor.name===s.name}function mt(h){return h!=h}var _t=function(){for(var h="0123456789abcdef",s=new Array(256),r=0;r<16;++r)for(var g=16*r,C=0;C<16;++C)s[g+C]=h[r]+h[C];return s}()},2658:(ct,$)=>{$.read=function(w,D,S,b,e){var m,k,f=8*e-b-1,N=(1<<f)-1,G=N>>1,P=-7,U=S?e-1:0,W=S?-1:1,O=w[D+U];for(U+=W,m=O&(1<<-P)-1,O>>=-P,P+=f;P>0;m=256*m+w[D+U],U+=W,P-=8);for(k=m&(1<<-P)-1,m>>=-P,P+=b;P>0;k=256*k+w[D+U],U+=W,P-=8);if(0===m)m=1-G;else{if(m===N)return k?NaN:1/0*(O?-1:1);k+=Math.pow(2,b),m-=G}return(O?-1:1)*k*Math.pow(2,m-b)},$.write=function(w,D,S,b,e,m){var k,f,N,G=8*m-e-1,P=(1<<G)-1,U=P>>1,W=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,O=b?0:m-1,Y=b?1:-1,Z=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(f=isNaN(D)?1:0,k=P):(k=Math.floor(Math.log(D)/Math.LN2),D*(N=Math.pow(2,-k))<1&&(k--,N*=2),(D+=k+U>=1?W/N:W*Math.pow(2,1-U))*N>=2&&(k++,N/=2),k+U>=P?(f=0,k=P):k+U>=1?(f=(D*N-1)*Math.pow(2,e),k+=U):(f=D*Math.pow(2,U-1)*Math.pow(2,e),k=0));e>=8;w[S+O]=255&f,O+=Y,f/=256,e-=8);for(k=k<<e|f,G+=e;G>0;w[S+O]=255&k,O+=Y,k/=256,G-=8);w[S+O-Y]|=128*Z}},5473:(ct,$,w)=>{!function(D){D.parser=function(u,c){return new b(u,c)},D.SAXParser=b,D.SAXStream=P,D.createStream=function G(u,c){return new P(u,c)},D.MAX_BUFFER_LENGTH=65536;var f,S=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function b(u,c){if(!(this instanceof b))return new b(u,c);var M=this;(function m(u){for(var c=0,M=S.length;c<M;c++)u[S[c]]=""})(M),M.q=M.c="",M.bufferCheckPosition=D.MAX_BUFFER_LENGTH,M.opt=c||{},M.opt.lowercase=M.opt.lowercase||M.opt.lowercasetags,M.looseCase=M.opt.lowercase?"toLowerCase":"toUpperCase",M.tags=[],M.closed=M.closedRoot=M.sawRoot=!1,M.tag=M.error=null,M.strict=!!u,M.noscript=!(!u&&!M.opt.noscript),M.state=_.BEGIN,M.strictEntities=M.opt.strictEntities,M.ENTITIES=Object.create(M.strictEntities?D.XML_ENTITIES:D.ENTITIES),M.attribList=[],M.opt.xmlns&&(M.ns=Object.create(Z)),M.trackPosition=!1!==M.opt.position,M.trackPosition&&(M.position=M.line=M.column=0),q(M,"onready")}D.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(u){function c(){}return c.prototype=u,new c}),Object.keys||(Object.keys=function(u){var c=[];for(var M in u)u.hasOwnProperty(M)&&c.push(M);return c}),b.prototype={end:function(){Vt(this)},write:function qt(u){var c=this;if(this.error)throw this.error;if(c.closed)return At(c,"Cannot write after close. Assign an onready handler.");if(null===u)return Vt(c);"object"==typeof u&&(u=u.toString());for(var M=0,y="";y=Rt(u,M++),c.c=y,y;)switch(c.trackPosition&&(c.position++,"\n"===y?(c.line++,c.column=0):c.column++),c.state){case _.BEGIN:if(c.state=_.BEGIN_WHITESPACE,"\ufeff"===y)continue;Ot(c,y);continue;case _.BEGIN_WHITESPACE:Ot(c,y);continue;case _.TEXT:if(c.sawRoot&&!c.closedRoot){for(var J=M-1;y&&"<"!==y&&"&"!==y;)(y=Rt(u,M++))&&c.trackPosition&&(c.position++,"\n"===y?(c.line++,c.column=0):c.column++);c.textNode+=u.substring(J,M-1)}"<"!==y||c.sawRoot&&c.closedRoot&&!c.strict?(!p(y)&&(!c.sawRoot||c.closedRoot)&&Q(c,"Text data outside of root node."),"&"===y?c.state=_.TEXT_ENTITY:c.textNode+=y):(c.state=_.OPEN_WAKA,c.startTagPosition=c.position);continue;case _.SCRIPT:"<"===y?c.state=_.SCRIPT_ENDING:c.script+=y;continue;case _.SCRIPT_ENDING:"/"===y?c.state=_.CLOSE_TAG:(c.script+="<"+y,c.state=_.SCRIPT);continue;case _.OPEN_WAKA:"!"===y?(c.state=_.SGML_DECL,c.sgmlDecl=""):p(y)||(F(V,y)?(c.state=_.OPEN_TAG,c.tagName=y):"/"===y?(c.state=_.CLOSE_TAG,c.tagName=""):"?"===y?(c.state=_.PROC_INST,c.procInstName=c.procInstBody=""):(Q(c,"Unencoded <"),c.startTagPosition+1<c.position&&(y=new Array(c.position-c.startTagPosition).join(" ")+y),c.textNode+="<"+y,c.state=_.TEXT));continue;case _.SGML_DECL:"[CDATA["===(c.sgmlDecl+y).toUpperCase()?(st(c,"onopencdata"),c.state=_.CDATA,c.sgmlDecl="",c.cdata=""):c.sgmlDecl+y==="--"?(c.state=_.COMMENT,c.comment="",c.sgmlDecl=""):"DOCTYPE"===(c.sgmlDecl+y).toUpperCase()?(c.state=_.DOCTYPE,(c.doctype||c.sawRoot)&&Q(c,"Inappropriately located doctype declaration"),c.doctype="",c.sgmlDecl=""):">"===y?(st(c,"onsgmldeclaration",c.sgmlDecl),c.sgmlDecl="",c.state=_.TEXT):(d(y)&&(c.state=_.SGML_DECL_QUOTED),c.sgmlDecl+=y);continue;case _.SGML_DECL_QUOTED:y===c.q&&(c.state=_.SGML_DECL,c.q=""),c.sgmlDecl+=y;continue;case _.DOCTYPE:">"===y?(c.state=_.TEXT,st(c,"ondoctype",c.doctype),c.doctype=!0):(c.doctype+=y,"["===y?c.state=_.DOCTYPE_DTD:d(y)&&(c.state=_.DOCTYPE_QUOTED,c.q=y));continue;case _.DOCTYPE_QUOTED:c.doctype+=y,y===c.q&&(c.q="",c.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:c.doctype+=y,"]"===y?c.state=_.DOCTYPE:d(y)&&(c.state=_.DOCTYPE_DTD_QUOTED,c.q=y);continue;case _.DOCTYPE_DTD_QUOTED:c.doctype+=y,y===c.q&&(c.state=_.DOCTYPE_DTD,c.q="");continue;case _.COMMENT:"-"===y?c.state=_.COMMENT_ENDING:c.comment+=y;continue;case _.COMMENT_ENDING:"-"===y?(c.state=_.COMMENT_ENDED,c.comment=St(c.opt,c.comment),c.comment&&st(c,"oncomment",c.comment),c.comment=""):(c.comment+="-"+y,c.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==y?(Q(c,"Malformed comment"),c.comment+="--"+y,c.state=_.COMMENT):c.state=_.TEXT;continue;case _.CDATA:"]"===y?c.state=_.CDATA_ENDING:c.cdata+=y;continue;case _.CDATA_ENDING:"]"===y?c.state=_.CDATA_ENDING_2:(c.cdata+="]"+y,c.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===y?(c.cdata&&st(c,"oncdata",c.cdata),st(c,"onclosecdata"),c.cdata="",c.state=_.TEXT):"]"===y?c.cdata+="]":(c.cdata+="]]"+y,c.state=_.CDATA);continue;case _.PROC_INST:"?"===y?c.state=_.PROC_INST_ENDING:p(y)?c.state=_.PROC_INST_BODY:c.procInstName+=y;continue;case _.PROC_INST_BODY:if(!c.procInstBody&&p(y))continue;"?"===y?c.state=_.PROC_INST_ENDING:c.procInstBody+=y;continue;case _.PROC_INST_ENDING:">"===y?(st(c,"onprocessinginstruction",{name:c.procInstName,body:c.procInstBody}),c.procInstName=c.procInstBody="",c.state=_.TEXT):(c.procInstBody+="?"+y,c.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:F(H,y)?c.tagName+=y:(Zt(c),">"===y?at(c):"/"===y?c.state=_.OPEN_TAG_SLASH:(p(y)||Q(c,"Invalid character in tag name"),c.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===y?(at(c,!0),ut(c)):(Q(c,"Forward-slash in opening tag not followed by >"),c.state=_.ATTRIB);continue;case _.ATTRIB:if(p(y))continue;">"===y?at(c):"/"===y?c.state=_.OPEN_TAG_SLASH:F(V,y)?(c.attribName=y,c.attribValue="",c.state=_.ATTRIB_NAME):Q(c,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===y?c.state=_.ATTRIB_VALUE:">"===y?(Q(c,"Attribute without value"),c.attribValue=c.attribName,Nt(c),at(c)):p(y)?c.state=_.ATTRIB_NAME_SAW_WHITE:F(H,y)?c.attribName+=y:Q(c,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===y)c.state=_.ATTRIB_VALUE;else{if(p(y))continue;Q(c,"Attribute without value"),c.tag.attributes[c.attribName]="",c.attribValue="",st(c,"onattribute",{name:c.attribName,value:""}),c.attribName="",">"===y?at(c):F(V,y)?(c.attribName=y,c.state=_.ATTRIB_NAME):(Q(c,"Invalid attribute name"),c.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(p(y))continue;d(y)?(c.q=y,c.state=_.ATTRIB_VALUE_QUOTED):(Q(c,"Unquoted attribute value"),c.state=_.ATTRIB_VALUE_UNQUOTED,c.attribValue=y);continue;case _.ATTRIB_VALUE_QUOTED:if(y!==c.q){"&"===y?c.state=_.ATTRIB_VALUE_ENTITY_Q:c.attribValue+=y;continue}Nt(c),c.q="",c.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:p(y)?c.state=_.ATTRIB:">"===y?at(c):"/"===y?c.state=_.OPEN_TAG_SLASH:F(V,y)?(Q(c,"No whitespace between attributes"),c.attribName=y,c.attribValue="",c.state=_.ATTRIB_NAME):Q(c,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!x(y)){"&"===y?c.state=_.ATTRIB_VALUE_ENTITY_U:c.attribValue+=y;continue}Nt(c),">"===y?at(c):c.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(c.tagName)">"===y?ut(c):F(H,y)?c.tagName+=y:c.script?(c.script+="</"+c.tagName,c.tagName="",c.state=_.SCRIPT):(p(y)||Q(c,"Invalid tagname in closing tag"),c.state=_.CLOSE_TAG_SAW_WHITE);else{if(p(y))continue;B(V,y)?c.script?(c.script+="</"+y,c.state=_.SCRIPT):Q(c,"Invalid tagname in closing tag."):c.tagName=y}continue;case _.CLOSE_TAG_SAW_WHITE:if(p(y))continue;">"===y?ut(c):Q(c,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var tt,mt;switch(c.state){case _.TEXT_ENTITY:tt=_.TEXT,mt="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:tt=_.ATTRIB_VALUE_QUOTED,mt="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:tt=_.ATTRIB_VALUE_UNQUOTED,mt="attribValue"}";"===y?(c[mt]+=Bt(c),c.entity="",c.state=tt):F(c.entity.length?R:A,y)?c.entity+=y:(Q(c,"Invalid character in entity name"),c[mt]+="&"+c.entity+y,c.entity="",c.state=tt);continue;default:throw new Error(c,"Unknown state: "+c.state)}return c.position>=c.bufferCheckPosition&&function e(u){for(var c=Math.max(D.MAX_BUFFER_LENGTH,10),M=0,y=0,J=S.length;y<J;y++){var rt=u[S[y]].length;if(rt>c)switch(S[y]){case"textNode":Ct(u);break;case"cdata":st(u,"oncdata",u.cdata),u.cdata="";break;case"script":st(u,"onscript",u.script),u.script="";break;default:At(u,"Max buffer length exceeded: "+S[y])}M=Math.max(M,rt)}u.bufferCheckPosition=D.MAX_BUFFER_LENGTH-M+u.position}(c),c},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function k(u){Ct(u),""!==u.cdata&&(st(u,"oncdata",u.cdata),u.cdata=""),""!==u.script&&(st(u,"onscript",u.script),u.script="")}(this)}};try{f=Object(function(){var c=new Error("Cannot find module 'stream'");throw c.code="MODULE_NOT_FOUND",c}())}catch{f=function(){}}var N=D.EVENTS.filter(function(u){return"error"!==u&&"end"!==u});function P(u,c){if(!(this instanceof P))return new P(u,c);f.apply(this),this._parser=new b(u,c),this.writable=!0,this.readable=!0;var M=this;this._parser.onend=function(){M.emit("end")},this._parser.onerror=function(y){M.emit("error",y),M._parser.error=null},this._decoder=null,N.forEach(function(y){Object.defineProperty(M,"on"+y,{get:function(){return M._parser["on"+y]},set:function(J){if(!J)return M.removeAllListeners(y),M._parser["on"+y]=J,J;M.on(y,J)},enumerable:!0,configurable:!1})})}(P.prototype=Object.create(f.prototype,{constructor:{value:P}})).write=function(u){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(u)){if(!this._decoder){var c=w(5822).s;this._decoder=new c("utf8")}u=this._decoder.write(u)}return this._parser.write(u.toString()),this.emit("data",u),!0},P.prototype.end=function(u){return u&&u.length&&this.write(u),this._parser.end(),!0},P.prototype.on=function(u,c){var M=this;return!M._parser["on"+u]&&-1!==N.indexOf(u)&&(M._parser["on"+u]=function(){var y=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,u),M.emit.apply(M,y)}),f.prototype.on.call(M,u,c)};var O="http://www.w3.org/XML/1998/namespace",Y="http://www.w3.org/2000/xmlns/",Z={xml:O,xmlns:Y},V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(u){return" "===u||"\n"===u||"\r"===u||"\t"===u}function d(u){return'"'===u||"'"===u}function x(u){return">"===u||p(u)}function F(u,c){return u.test(c)}function B(u,c){return!F(u,c)}var u,c,M,_=0;for(var K in D.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},D.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(D.ENTITIES).forEach(function(u){var c=D.ENTITIES[u],M="number"==typeof c?String.fromCharCode(c):c;D.ENTITIES[u]=M}),D.STATE)D.STATE[D.STATE[K]]=K;function q(u,c,M){u[c]&&u[c](M)}function st(u,c,M){u.textNode&&Ct(u),q(u,c,M)}function Ct(u){u.textNode=St(u.opt,u.textNode),u.textNode&&q(u,"ontext",u.textNode),u.textNode=""}function St(u,c){return u.trim&&(c=c.trim()),u.normalize&&(c=c.replace(/\s+/g," ")),c}function At(u,c){return Ct(u),u.trackPosition&&(c+="\nLine: "+u.line+"\nColumn: "+u.column+"\nChar: "+u.c),c=new Error(c),u.error=c,q(u,"onerror",c),u}function Vt(u){return u.sawRoot&&!u.closedRoot&&Q(u,"Unclosed root tag"),u.state!==_.BEGIN&&u.state!==_.BEGIN_WHITESPACE&&u.state!==_.TEXT&&At(u,"Unexpected end"),Ct(u),u.c="",u.closed=!0,q(u,"onend"),b.call(u,u.strict,u.opt),u}function Q(u,c){if("object"!=typeof u||!(u instanceof b))throw new Error("bad call to strictFail");u.strict&&At(u,c)}function Zt(u){u.strict||(u.tagName=u.tagName[u.looseCase]());var c=u.tags[u.tags.length-1]||u,M=u.tag={name:u.tagName,attributes:{}};u.opt.xmlns&&(M.ns=c.ns),u.attribList.length=0,st(u,"onopentagstart",M)}function Et(u,c){var y=u.indexOf(":")<0?["",u]:u.split(":"),J=y[0],rt=y[1];return c&&"xmlns"===u&&(J="xmlns",rt=""),{prefix:J,local:rt}}function Nt(u){if(u.strict||(u.attribName=u.attribName[u.looseCase]()),-1!==u.attribList.indexOf(u.attribName)||u.tag.attributes.hasOwnProperty(u.attribName))u.attribName=u.attribValue="";else{if(u.opt.xmlns){var c=Et(u.attribName,!0),y=c.local;if("xmlns"===c.prefix)if("xml"===y&&u.attribValue!==O)Q(u,"xml: prefix must be bound to "+O+"\nActual: "+u.attribValue);else if("xmlns"===y&&u.attribValue!==Y)Q(u,"xmlns: prefix must be bound to "+Y+"\nActual: "+u.attribValue);else{var J=u.tag,rt=u.tags[u.tags.length-1]||u;J.ns===rt.ns&&(J.ns=Object.create(rt.ns)),J.ns[y]=u.attribValue}u.attribList.push([u.attribName,u.attribValue])}else u.tag.attributes[u.attribName]=u.attribValue,st(u,"onattribute",{name:u.attribName,value:u.attribValue});u.attribName=u.attribValue=""}}function at(u,c){if(u.opt.xmlns){var M=u.tag,y=Et(u.tagName);M.prefix=y.prefix,M.local=y.local,M.uri=M.ns[y.prefix]||"",M.prefix&&!M.uri&&(Q(u,"Unbound namespace prefix: "+JSON.stringify(u.tagName)),M.uri=y.prefix),M.ns&&(u.tags[u.tags.length-1]||u).ns!==M.ns&&Object.keys(M.ns).forEach(function(T){st(u,"onopennamespace",{prefix:T,uri:M.ns[T]})});for(var rt=0,tt=u.attribList.length;rt<tt;rt++){var mt=u.attribList[rt],_t=mt[0],h=mt[1],s=Et(_t,!0),r=s.prefix,C=""===r?"":M.ns[r]||"",E={name:_t,value:h,prefix:r,local:s.local,uri:C};r&&"xmlns"!==r&&!C&&(Q(u,"Unbound namespace prefix: "+JSON.stringify(r)),E.uri=r),u.tag.attributes[_t]=E,st(u,"onattribute",E)}u.attribList.length=0}u.tag.isSelfClosing=!!c,u.sawRoot=!0,u.tags.push(u.tag),st(u,"onopentag",u.tag),c||(u.state=u.noscript||"script"!==u.tagName.toLowerCase()?_.TEXT:_.SCRIPT,u.tag=null,u.tagName=""),u.attribName=u.attribValue="",u.attribList.length=0}function ut(u){if(!u.tagName)return Q(u,"Weird empty close tag."),u.textNode+="</>",void(u.state=_.TEXT);if(u.script){if("script"!==u.tagName)return u.script+="</"+u.tagName+">",u.tagName="",void(u.state=_.SCRIPT);st(u,"onscript",u.script),u.script=""}var c=u.tags.length,M=u.tagName;u.strict||(M=M[u.looseCase]());for(var y=M;c--&&u.tags[c].name!==y;)Q(u,"Unexpected close tag");if(c<0)return Q(u,"Unmatched closing tag: "+u.tagName),u.textNode+="</"+u.tagName+">",void(u.state=_.TEXT);u.tagName=M;for(var rt=u.tags.length;rt-- >c;){var tt=u.tag=u.tags.pop();u.tagName=u.tag.name,st(u,"onclosetag",u.tagName);var mt={};for(var _t in tt.ns)mt[_t]=tt.ns[_t];u.opt.xmlns&&tt.ns!==(u.tags[u.tags.length-1]||u).ns&&Object.keys(tt.ns).forEach(function(s){st(u,"onclosenamespace",{prefix:s,uri:tt.ns[s]})})}0===c&&(u.closedRoot=!0),u.tagName=u.attribValue=u.attribName="",u.attribList.length=0,u.state=_.TEXT}function Bt(u){var y,c=u.entity,M=c.toLowerCase(),J="";return u.ENTITIES[c]?u.ENTITIES[c]:u.ENTITIES[M]?u.ENTITIES[M]:("#"===(c=M).charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),J=(y=parseInt(c,16)).toString(16)):(c=c.slice(1),J=(y=parseInt(c,10)).toString(10))),c=c.replace(/^0+/,""),isNaN(y)||J.toLowerCase()!==c?(Q(u,"Invalid character entity"),"&"+u.entity+";"):String.fromCodePoint(y))}function Ot(u,c){"<"===c?(u.state=_.OPEN_WAKA,u.startTagPosition=u.position):p(c)||(Q(u,"Non-whitespace before first tag."),u.textNode=c,u.state=_.TEXT)}function Rt(u,c){var M="";return c<u.length&&(M=u.charAt(c)),M}_=D.STATE,String.fromCodePoint||(u=String.fromCharCode,c=Math.floor,M=function(){var y=16384,J=[],mt=-1,_t=arguments.length;if(!_t)return"";for(var h="";++mt<_t;){var s=Number(arguments[mt]);if(!isFinite(s)||s<0||s>1114111||c(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?J.push(s):J.push(55296+((s-=65536)>>10),s%1024+56320),(mt+1===_t||J.length>y)&&(h+=u.apply(null,J),J.length=0)}return h},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M)}($)},5822:(ct,$,w)=>{"use strict";var D=w(4374).Buffer,S=D.isEncoding||function(A){switch((A=""+A)&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function m(A){var R;switch(this.encoding=function e(A){var R=function b(A){if(!A)return"utf8";for(var R;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(R)return;A=(""+A).toLowerCase(),R=!0}}(A);if("string"!=typeof R&&(D.isEncoding===S||!S(A)))throw new Error("Unknown encoding: "+A);return R||A}(A),this.encoding){case"utf16le":this.text=W,this.end=O,R=4;break;case"utf8":this.fillLast=G,R=4;break;case"base64":this.text=Y,this.end=Z,R=3;break;default:return this.write=V,void(this.end=H)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(R)}function k(A){return A<=127?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function G(A){var R=this.lastTotal-this.lastNeed,p=function N(A,R,p){if(128!=(192&R[0]))return A.lastNeed=0,"\ufffd";if(A.lastNeed>1&&R.length>1){if(128!=(192&R[1]))return A.lastNeed=1,"\ufffd";if(A.lastNeed>2&&R.length>2&&128!=(192&R[2]))return A.lastNeed=2,"\ufffd"}}(this,A);return void 0!==p?p:this.lastNeed<=A.length?(A.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,R,0,A.length),void(this.lastNeed-=A.length))}function W(A,R){if((A.length-R)%2==0){var p=A.toString("utf16le",R);if(p){var d=p.charCodeAt(p.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",R,A.length-1)}function O(A){var R=A&&A.length?this.write(A):"";return this.lastNeed?R+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):R}function Y(A,R){var p=(A.length-R)%3;return 0===p?A.toString("base64",R):(this.lastNeed=3-p,this.lastTotal=3,1===p?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",R,A.length-p))}function Z(A){var R=A&&A.length?this.write(A):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function V(A){return A.toString(this.encoding)}function H(A){return A&&A.length?this.write(A):""}$.s=m,m.prototype.write=function(A){if(0===A.length)return"";var R,p;if(this.lastNeed){if(void 0===(R=this.fillLast(A)))return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<A.length?R?R+this.text(A,p):this.text(A,p):R||""},m.prototype.end=function U(A){var R=A&&A.length?this.write(A):"";return this.lastNeed?R+"\ufffd":R},m.prototype.text=function P(A,R){var p=function f(A,R,p){var d=R.length-1;if(d<p)return 0;var x=k(R[d]);return x>=0?(x>0&&(A.lastNeed=x-1),x):--d<p||-2===x?0:(x=k(R[d]))>=0?(x>0&&(A.lastNeed=x-2),x):--d<p||-2===x?0:(x=k(R[d]))>=0?(x>0&&(2===x?x=0:A.lastNeed=x-3),x):0}(this,A,R);if(!this.lastNeed)return A.toString("utf8",R);this.lastTotal=p;var d=A.length-(p-this.lastNeed);return A.copy(this.lastChar,0,d),A.toString("utf8",R,d)},m.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length}},4374:(ct,$,w)=>{var D=w(3875),S=D.Buffer;function b(m,k){for(var f in m)k[f]=m[f]}function e(m,k,f){return S(m,k,f)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?ct.exports=D:(b(D,$),$.Buffer=e),e.prototype=Object.create(S.prototype),b(S,e),e.from=function(m,k,f){if("number"==typeof m)throw new TypeError("Argument must not be a number");return S(m,k,f)},e.alloc=function(m,k,f){if("number"!=typeof m)throw new TypeError("Argument must be a number");var N=S(m);return void 0!==k?"string"==typeof f?N.fill(k,f):N.fill(k):N.fill(0),N},e.allocUnsafe=function(m){if("number"!=typeof m)throw new TypeError("Argument must be a number");return S(m)},e.allocUnsafeSlow=function(m){if("number"!=typeof m)throw new TypeError("Argument must be a number");return D.SlowBuffer(m)}},289:ct=>{ct.exports={isArray:function($){return Array.isArray?Array.isArray($):"[object Array]"===Object.prototype.toString.call($)}}},7108:(ct,$,w)=>{var D=w(1009),S=w(7739),b=w(4778),e=w(4114);ct.exports={xml2js:D,xml2json:S,js2xml:b,json2xml:e}},4778:(ct,$,w)=>{var b,e,D=w(2116),S=w(289).isArray;function k(p,d,x){return(!x&&p.spaces?"\n":"")+Array(d+1).join(p.spaces)}function f(p,d,x){if(d.ignoreAttributes)return"";"attributesFn"in d&&(p=d.attributesFn(p,e,b));var F,B,_,K,q=[];for(F in p)p.hasOwnProperty(F)&&null!=p[F]&&(K=d.noQuotesForNativeAttributes&&"string"!=typeof p[F]?"":'"',B=(B=""+p[F]).replace(/"/g,"&quot;"),_="attributeNameFn"in d?d.attributeNameFn(F,B,e,b):F,q.push(d.spaces&&d.indentAttributes?k(d,x+1,!1):" "),q.push(_+"="+K+("attributeValueFn"in d?d.attributeValueFn(B,F,e,b):B)+K));return p&&Object.keys(p).length&&d.spaces&&d.indentAttributes&&q.push(k(d,x,!1)),q.join("")}function N(p,d,x){return b=p,e="xml",d.ignoreDeclaration?"":"<?xml"+f(p[d.attributesKey],d,x)+"?>"}function G(p,d,x){if(d.ignoreInstruction)return"";var F;for(F in p)if(p.hasOwnProperty(F))break;var B="instructionNameFn"in d?d.instructionNameFn(F,p[F],e,b):F;if("object"==typeof p[F])return b=p,e=B,"<?"+B+f(p[F][d.attributesKey],d,x)+"?>";var _=p[F]?p[F]:"";return"instructionFn"in d&&(_=d.instructionFn(_,F,e,b)),"<?"+B+(_?" "+_:"")+"?>"}function P(p,d){return d.ignoreComment?"":"\x3c!--"+("commentFn"in d?d.commentFn(p,e,b):p)+"--\x3e"}function U(p,d){return d.ignoreCdata?"":"<![CDATA["+("cdataFn"in d?d.cdataFn(p,e,b):p.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function W(p,d){return d.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in d?d.doctypeFn(p,e,b):p)+">"}function O(p,d){return d.ignoreText?"":(p=(p=(p=""+p).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in d?d.textFn(p,e,b):p)}function V(p,d,x,F){return p.reduce(function(B,_){var K=k(d,x,F&&!B);switch(_.type){case"element":return B+K+function Z(p,d,x){b=p,e=p.name;var F=[],B="elementNameFn"in d?d.elementNameFn(p.name,p):p.name;F.push("<"+B),p[d.attributesKey]&&F.push(f(p[d.attributesKey],d,x));var _=p[d.elementsKey]&&p[d.elementsKey].length||p[d.attributesKey]&&"preserve"===p[d.attributesKey]["xml:space"];return _||(_="fullTagEmptyElementFn"in d?d.fullTagEmptyElementFn(p.name,p):d.fullTagEmptyElement),_?(F.push(">"),p[d.elementsKey]&&p[d.elementsKey].length&&(F.push(V(p[d.elementsKey],d,x+1)),b=p,e=p.name),F.push(d.spaces&&function Y(p,d){var x;if(p.elements&&p.elements.length)for(x=0;x<p.elements.length;++x)switch(p.elements[x][d.typeKey]){case"text":if(d.indentText)return!0;break;case"cdata":if(d.indentCdata)return!0;break;case"instruction":if(d.indentInstruction)return!0;break;default:return!0}return!1}(p,d)?"\n"+Array(x+1).join(d.spaces):""),F.push("</"+B+">")):F.push("/>"),F.join("")}(_,d,x);case"comment":return B+K+P(_[d.commentKey],d);case"doctype":return B+K+W(_[d.doctypeKey],d);case"cdata":return B+(d.indentCdata?K:"")+U(_[d.cdataKey],d);case"text":return B+(d.indentText?K:"")+O(_[d.textKey],d);case"instruction":var q={};return q[_[d.nameKey]]=_[d.attributesKey]?_:_[d.instructionKey],B+(d.indentInstruction?K:"")+G(q,d,x)}},"")}function H(p,d,x){var F;for(F in p)if(p.hasOwnProperty(F))switch(F){case d.parentKey:case d.attributesKey:break;case d.textKey:if(d.indentText||x)return!0;break;case d.cdataKey:if(d.indentCdata||x)return!0;break;case d.instructionKey:if(d.indentInstruction||x)return!0;break;default:return!0}return!1}function A(p,d,x,F,B){b=p,e=d;var _="elementNameFn"in x?x.elementNameFn(d,p):d;if(typeof p>"u"||null===p||""===p)return"fullTagEmptyElementFn"in x&&x.fullTagEmptyElementFn(d,p)||x.fullTagEmptyElement?"<"+_+"></"+_+">":"<"+_+"/>";var K=[];if(d){if(K.push("<"+_),"object"!=typeof p)return K.push(">"+O(p,x)+"</"+_+">"),K.join("");p[x.attributesKey]&&K.push(f(p[x.attributesKey],x,F));var q=H(p,x,!0)||p[x.attributesKey]&&"preserve"===p[x.attributesKey]["xml:space"];if(q||(q="fullTagEmptyElementFn"in x?x.fullTagEmptyElementFn(d,p):x.fullTagEmptyElement),!q)return K.push("/>"),K.join("");K.push(">")}return K.push(R(p,x,F+1,!1)),b=p,e=d,d&&K.push((B?k(x,F,!1):"")+"</"+_+">"),K.join("")}function R(p,d,x,F){var B,_,K,q=[];for(_ in p)if(p.hasOwnProperty(_))for(K=S(p[_])?p[_]:[p[_]],B=0;B<K.length;++B){switch(_){case d.declarationKey:q.push(N(K[B],d,x));break;case d.instructionKey:q.push((d.indentInstruction?k(d,x,F):"")+G(K[B],d,x));break;case d.attributesKey:case d.parentKey:break;case d.textKey:q.push((d.indentText?k(d,x,F):"")+O(K[B],d));break;case d.cdataKey:q.push((d.indentCdata?k(d,x,F):"")+U(K[B],d));break;case d.doctypeKey:q.push(k(d,x,F)+W(K[B],d));break;case d.commentKey:q.push(k(d,x,F)+P(K[B],d));break;default:q.push(k(d,x,F)+A(K[B],_,d,x,H(K[B],d)))}F=F&&!q.length}return q.join("")}ct.exports=function(p,d){d=function m(p){var d=D.copyOptions(p);return D.ensureFlagExists("ignoreDeclaration",d),D.ensureFlagExists("ignoreInstruction",d),D.ensureFlagExists("ignoreAttributes",d),D.ensureFlagExists("ignoreText",d),D.ensureFlagExists("ignoreComment",d),D.ensureFlagExists("ignoreCdata",d),D.ensureFlagExists("ignoreDoctype",d),D.ensureFlagExists("compact",d),D.ensureFlagExists("indentText",d),D.ensureFlagExists("indentCdata",d),D.ensureFlagExists("indentAttributes",d),D.ensureFlagExists("indentInstruction",d),D.ensureFlagExists("fullTagEmptyElement",d),D.ensureFlagExists("noQuotesForNativeAttributes",d),D.ensureSpacesExists(d),"number"==typeof d.spaces&&(d.spaces=Array(d.spaces+1).join(" ")),D.ensureKeyExists("declaration",d),D.ensureKeyExists("instruction",d),D.ensureKeyExists("attributes",d),D.ensureKeyExists("text",d),D.ensureKeyExists("comment",d),D.ensureKeyExists("cdata",d),D.ensureKeyExists("doctype",d),D.ensureKeyExists("type",d),D.ensureKeyExists("name",d),D.ensureKeyExists("elements",d),D.checkFnExists("doctype",d),D.checkFnExists("instruction",d),D.checkFnExists("cdata",d),D.checkFnExists("comment",d),D.checkFnExists("text",d),D.checkFnExists("instructionName",d),D.checkFnExists("elementName",d),D.checkFnExists("attributeName",d),D.checkFnExists("attributeValue",d),D.checkFnExists("attributes",d),D.checkFnExists("fullTagEmptyElement",d),d}(d);var x=[];return b=p,e="_root_",d.compact?x.push(R(p,d,0,!0)):(p[d.declarationKey]&&x.push(N(p[d.declarationKey],d,0)),p[d.elementsKey]&&p[d.elementsKey].length&&x.push(V(p[d.elementsKey],d,0,!x.length))),x.join("")}},4114:(ct,$,w)=>{var D=w(4778);ct.exports=function(S,b){S instanceof Buffer&&(S=S.toString());var e=null;if("string"==typeof S)try{e=JSON.parse(S)}catch{throw new Error("The JSON structure is invalid")}else e=S;return D(e,b)}},2116:(ct,$,w)=>{var D=w(289).isArray;ct.exports={copyOptions:function(S){var b,e={};for(b in S)S.hasOwnProperty(b)&&(e[b]=S[b]);return e},ensureFlagExists:function(S,b){(!(S in b)||"boolean"!=typeof b[S])&&(b[S]=!1)},ensureSpacesExists:function(S){(!("spaces"in S)||"number"!=typeof S.spaces&&"string"!=typeof S.spaces)&&(S.spaces=0)},ensureAlwaysArrayExists:function(S){(!("alwaysArray"in S)||"boolean"!=typeof S.alwaysArray&&!D(S.alwaysArray))&&(S.alwaysArray=!1)},ensureKeyExists:function(S,b){(!(S+"Key"in b)||"string"!=typeof b[S+"Key"])&&(b[S+"Key"]=b.compact?"_"+S:S)},checkFnExists:function(S,b){return S+"Fn"in b}}},1009:(ct,$,w)=>{var m,f,D=w(5473),b=w(2116),e=w(289).isArray;function G(p){var d=Number(p);if(!isNaN(d))return d;var x=p.toLowerCase();return"true"===x||"false"!==x&&p}function P(p,d){var x;if(m.compact){if(!f[m[p+"Key"]]&&(e(m.alwaysArray)?-1!==m.alwaysArray.indexOf(m[p+"Key"]):m.alwaysArray)&&(f[m[p+"Key"]]=[]),f[m[p+"Key"]]&&!e(f[m[p+"Key"]])&&(f[m[p+"Key"]]=[f[m[p+"Key"]]]),p+"Fn"in m&&"string"==typeof d&&(d=m[p+"Fn"](d,f)),"instruction"===p&&("instructionFn"in m||"instructionNameFn"in m))for(x in d)if(d.hasOwnProperty(x))if("instructionFn"in m)d[x]=m.instructionFn(d[x],x,f);else{var F=d[x];delete d[x],d[m.instructionNameFn(x,F,f)]=F}e(f[m[p+"Key"]])?f[m[p+"Key"]].push(d):f[m[p+"Key"]]=d}else{f[m.elementsKey]||(f[m.elementsKey]=[]);var B={};if(B[m.typeKey]=p,"instruction"===p){for(x in d)if(d.hasOwnProperty(x))break;B[m.nameKey]="instructionNameFn"in m?m.instructionNameFn(x,d,f):x,m.instructionHasAttributes?(B[m.attributesKey]=d[x][m.attributesKey],"instructionFn"in m&&(B[m.attributesKey]=m.instructionFn(B[m.attributesKey],x,f))):("instructionFn"in m&&(d[x]=m.instructionFn(d[x],x,f)),B[m.instructionKey]=d[x])}else p+"Fn"in m&&(d=m[p+"Fn"](d,f)),B[m[p+"Key"]]=d;m.addParent&&(B[m.parentKey]=f),f[m.elementsKey].push(B)}}function U(p){var d;if("attributesFn"in m&&p&&(p=m.attributesFn(p,f)),(m.trim||"attributeValueFn"in m||"attributeNameFn"in m||m.nativeTypeAttributes)&&p)for(d in p)if(p.hasOwnProperty(d)&&(m.trim&&(p[d]=p[d].trim()),m.nativeTypeAttributes&&(p[d]=G(p[d])),"attributeValueFn"in m&&(p[d]=m.attributeValueFn(p[d],d,f)),"attributeNameFn"in m)){var x=p[d];delete p[d],p[m.attributeNameFn(d,p[d],f)]=x}return p}function W(p){var d={};if(p.body&&("xml"===p.name.toLowerCase()||m.instructionHasAttributes)){for(var F,x=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(F=x.exec(p.body));)d[F[1]]=F[2]||F[3]||F[4];d=U(d)}if("xml"===p.name.toLowerCase()){if(m.ignoreDeclaration)return;f[m.declarationKey]={},Object.keys(d).length&&(f[m.declarationKey][m.attributesKey]=d),m.addParent&&(f[m.declarationKey][m.parentKey]=f)}else{if(m.ignoreInstruction)return;m.trim&&(p.body=p.body.trim());var B={};m.instructionHasAttributes&&Object.keys(d).length?(B[p.name]={},B[p.name][m.attributesKey]=d):B[p.name]=p.body,P("instruction",B)}}function O(p,d){var x;if("object"==typeof p&&(d=p.attributes,p=p.name),d=U(d),"elementNameFn"in m&&(p=m.elementNameFn(p,f)),m.compact){var F;if(x={},!m.ignoreAttributes&&d&&Object.keys(d).length)for(F in x[m.attributesKey]={},d)d.hasOwnProperty(F)&&(x[m.attributesKey][F]=d[F]);!(p in f)&&(e(m.alwaysArray)?-1!==m.alwaysArray.indexOf(p):m.alwaysArray)&&(f[p]=[]),f[p]&&!e(f[p])&&(f[p]=[f[p]]),e(f[p])?f[p].push(x):f[p]=x}else f[m.elementsKey]||(f[m.elementsKey]=[]),(x={})[m.typeKey]="element",x[m.nameKey]=p,!m.ignoreAttributes&&d&&Object.keys(d).length&&(x[m.attributesKey]=d),m.alwaysChildren&&(x[m.elementsKey]=[]),f[m.elementsKey].push(x);x[m.parentKey]=f,f=x}function Y(p){m.ignoreText||!p.trim()&&!m.captureSpacesBetweenElements||(m.trim&&(p=p.trim()),m.nativeType&&(p=G(p)),m.sanitize&&(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),P("text",p))}function Z(p){m.ignoreComment||(m.trim&&(p=p.trim()),P("comment",p))}function V(p){var d=f[m.parentKey];m.addParent||delete f[m.parentKey],f=d}function H(p){m.ignoreCdata||(m.trim&&(p=p.trim()),P("cdata",p))}function A(p){m.ignoreDoctype||(p=p.replace(/^ /,""),m.trim&&(p=p.trim()),P("doctype",p))}function R(p){p.note=p}ct.exports=function(p,d){var x=D.parser(!0,{}),F={};if(f=F,m=function N(p){return m=b.copyOptions(p),b.ensureFlagExists("ignoreDeclaration",m),b.ensureFlagExists("ignoreInstruction",m),b.ensureFlagExists("ignoreAttributes",m),b.ensureFlagExists("ignoreText",m),b.ensureFlagExists("ignoreComment",m),b.ensureFlagExists("ignoreCdata",m),b.ensureFlagExists("ignoreDoctype",m),b.ensureFlagExists("compact",m),b.ensureFlagExists("alwaysChildren",m),b.ensureFlagExists("addParent",m),b.ensureFlagExists("trim",m),b.ensureFlagExists("nativeType",m),b.ensureFlagExists("nativeTypeAttributes",m),b.ensureFlagExists("sanitize",m),b.ensureFlagExists("instructionHasAttributes",m),b.ensureFlagExists("captureSpacesBetweenElements",m),b.ensureAlwaysArrayExists(m),b.ensureKeyExists("declaration",m),b.ensureKeyExists("instruction",m),b.ensureKeyExists("attributes",m),b.ensureKeyExists("text",m),b.ensureKeyExists("comment",m),b.ensureKeyExists("cdata",m),b.ensureKeyExists("doctype",m),b.ensureKeyExists("type",m),b.ensureKeyExists("name",m),b.ensureKeyExists("elements",m),b.ensureKeyExists("parent",m),b.checkFnExists("doctype",m),b.checkFnExists("instruction",m),b.checkFnExists("cdata",m),b.checkFnExists("comment",m),b.checkFnExists("text",m),b.checkFnExists("instructionName",m),b.checkFnExists("elementName",m),b.checkFnExists("attributeName",m),b.checkFnExists("attributeValue",m),b.checkFnExists("attributes",m),m}(d),x.opt={strictEntities:!0},x.onopentag=O,x.ontext=Y,x.oncomment=Z,x.onclosetag=V,x.onerror=R,x.oncdata=H,x.ondoctype=A,x.onprocessinginstruction=W,x.write(p).close(),F[m.elementsKey]){var B=F[m.elementsKey];delete F[m.elementsKey],F[m.elementsKey]=B,delete F.text}return F}},7739:(ct,$,w)=>{var D=w(2116),S=w(1009);ct.exports=function(e,m){var k,f,G;return k=function b(e){var m=D.copyOptions(e);return D.ensureSpacesExists(m),m}(m),f=S(e,k),G="compact"in k&&k.compact?"_parent":"parent",("addParent"in k&&k.addParent?JSON.stringify(f,function(P,U){return P===G?"_":U},k.spaces):JSON.stringify(f,null,k.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}}}]);